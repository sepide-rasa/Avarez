<meta http-equiv="content-type" content="text/html; charset=Error" />
@using Ext.Net.MVC;
@using Ext.Net;
@using Avarez.Controllers.Users;
<script src="~/Scripts/accounting.min.js"></script>
<script>

    var ADDONVER, ADDONPOSIP, ADDONPOSID, ADDONOFFICE;

    var BASE_URL = "*";

    $().ready(function () {
        $('#pos').on('message', function (event) {
            var e = (typeof (jQuery) !== 'undefined') ? event.originalEvent : event;
            if (typeof e.data !== 'undefined') {
                var dataArray = e.data.split("|");
                if (dataArray[1] === 'pg') {
                    switch (dataArray[2]) {
                        case 'payres':
                            $("#checkpos").hide();
                            var result = dataArray[3].split("#");
                            var hloResStatus = (result[0].length === 8) ? true : false;
                            var payResStatus = result[0].slice(3, 5);
                            if (!hloResStatus && payResStatus === '00') {                               
                                
                            } else {
                                if (hloResStatus) {
                                    var msg;
                                    if (result[0] != ADDONPOSID) {
                                        msg = 'شناسه دستگاه کارتخوان با شناسه تنظیم شده در افزونه یکی نیست، لطفا شناسه ' + result[0] + ' را در تنظیمات افزونه وارد نمایید و سپس  مجددا سعی کنید.';
                                    } else {
                                        msg = 'دستگاه کارتخوان با شناسه ' + result[0] + ' متصل است.';
                                        msg += ' <br/><button onclick=\'paytax("02600000101000000000000001000","ref1")\'>پرداخت</button> ';
                                    }
                                    $("#nopos").html(msg);
                                    $("#nopos").show();
                                } else {
                                    var msg = 'خطای در زمان پرداخت با کارتخوان رخ داده لطفا مجددا سعی نمایید. کد خطا: ' + payResStatus;
                                    $("#nopos").html(msg);
                                    $("#nopos").show();
                                }
                            }
                            break;
                        case 'conerr':
                            var msg;
                            if (dataArray[3].indexOf('2152398862') != -1) {
                                msg = '<br/> در صورتی که آدرس IP کارتخوان صحیح است، لطفا بررسی کنید که کارتخوان در حالت PC-POS باشد. (کارتخوان با فشردن کلید F2 به حالت PC-POS در می آید)';
                            }
                            $("#nopos").html('خطای برقراری ارتباط با کارتخوان<br/>' + dataArray[3] + msg);
                            $("#nopos").show();
                            break;
                        case 'isalive':
                            var resArray = dataArray[3].split('#');
                            
                            $("#noaddon").hide();
                            $("#yesaddon").show();
                            window.postMessage("pg|cs|pay|HELLO#0", BASE_URL);
                            break;
                        case 'die':
                            updatePOSPanel('درخواست پایان کاربری به کارتخوان ارسال شد، در صورت تمایل به استفاده مجدد کلید F2 را از روی کارتخوان فشار دهید.');
                            window.postMessage("pg|cs|pay|EXIT#0", base_url);
                            break;
                        default:
                            console.log('توجه', dataArray[3]);
                    }

                }
            }
        });
    });    
</script>

<script>
    /*پوز سامان*/
    console.client.GetSystemResponse = function (message) {
        serverMessage = '';
        serverMessage = message;
    };

    console.client.GetTransactionResponse = function (TerminalId, ResponseCode, SerialId, RRN, ResponseDescription, TxnDate) {
        $.ajax({
            url: '/NewVer/SelectParvande/SamanPosVerify',
            data: {
                TerminalID: TerminalId,
                ResponseCode: ResponseCode,
                SerialId: SerialId,
                RRN: RRN,
                ResponseDescription: ResponseDescription,
                TxnDate: TxnDate,
                fishid: $('#saman_fishid').val()
            },
            method: 'POST',
            success: function (result) {
                var ic = Ext.MessageBox.INFO;
                if (result.Er == 1) {
                    ic=Ext.MessageBox.ERROR;
                }
                Ext.MessageBox.show({
                    title: "وضعیت پرداخت",
                    msg: result.msg,
                    icon: ic,
                    buttons: Ext.MessageBox.OK,
                    fn: function (btn) {
                        if (btn == 'ok') {
                            App.SamanPcpos.destroy();
                        }
                    }
                });
                App.SamanPcpos.body.mask().hide();
                /*Ext.net.Mask.hide();*/
            }
        });
        console.server.Reset();
    };
</script>

@*<script>
    var hub2 = $.connection.S_hub;
    hub2.client.LoadCarExperience = function () {
        if (App.MonitoringCarExperience == undefined) {
            $.ajax({
                url: '/NewVer/MonitoringCarExperience/GetNotAccept',
                type: 'get',
                datatype: 'json',
                error: function (xhr, status, error) {
                    alert(xhr + status);
                },
                success: function (result) {
                    var a = document.getElementsByClassName("MonitoringSavabegh");
                    if (result.length == 0) {
                        a[0].classList.remove("badge");
                    }
                    else {
                        var count = "'" + result.length + "'";
                        Ext.util.CSS.updateRule('.badge::after', 'content', count);
                        a[0].classList.add("badge");
                    }
                }
            });
        }
        else {
            var grid = App.MonitoringCarExperience.queryById("GridCarExperience");
            $.ajax({
                url: '/NewVer/MonitoringCarExperience/GetNotAccept',
                type: 'get',
                datatype: 'json',
                error: function (xhr, status, error) {
                    alert(xhr + status);
                },
                success: function (result) {
                    var a = document.getElementsByClassName("MonitoringSavabegh");
                    if (result.length == 0) {
                        a[0].classList.remove("badge");
                    }
                    else {
                        var count = "'" + result.length + "'";
                        Ext.util.CSS.updateRule('.badge::after', 'content', count);
                        a[0].classList.add("badge");
                    }
                    grid.store.loadData(result);
                }
            });
        }
    };
    $.connection.hub.start();*@
</script>
@{
    var X = Html.X();
    string UserLoginCount = "", Name = "", Code = "";
    string _Date = "", Time = "", Ip = "";
    string Mojodi = "نا محدود"; var Location = "";
    string trnUser = "", trnPass = ""; var LastDate = "";
    Avarez.Models.cartaxEntities p = new Avarez.Models.cartaxEntities();
    if (Session["UserId"] != null)
    {
        var tempid = p.sp_SelectTreeNodeID(Convert.ToInt32(Session["UserId"])).FirstOrDefault();
        var Etelaie = p.sp_AnnouncementManagerSelect("fldCountryDivisonTempID", tempid.fldID.ToString()
            , 0, Convert.ToInt32(Session["UserId"]), Session["UserPass"].ToString()).ToList();
        var EtelaieText = "";
        foreach (var item in Etelaie)
        {
            EtelaieText = EtelaieText + item.fldSubject + "</br>"; 
        }

        var user = p.sp_UserSelect("fldId", Session["UserId"].ToString(), 1, "", 1, "").FirstOrDefault();
        LastDate = MyLib.Shamsi.Shamsi2miladiString(user.fldDate);
        var LastLogin = p.sp_LogInProgramSelect("fldUserID", Session["UserId"].ToString(), 2, Convert.ToInt32(Session["UserId"]), Session["UserPass"].ToString()).ToList();
        if (LastLogin.Count == 2)
        {
            _Date = LastLogin[1].fldDateIN;
            Time = LastLogin[1].TIMEIN.ToString();
            Ip = LastLogin[1].fldIPAddress.ToString();
        }

        Name = user.fldName + " " + user.fldFamily;
        if (Convert.ToInt32(Session["CountryType"]) ==8)
        {
            Code = "کد دفتر: "+user.fldUserName;
        }
    }
    else
    {
        var GetDate = p.sp_GetDate().FirstOrDefault();
        _Date = GetDate.DateShamsi;
        Time = GetDate.Time.ToString();
        Ip = Request.ServerVariables["REMOTE_ADDR"].ToString();
        
        if (Session["GuestInfId"] != null)
        {
            var user = p.sp_tblGuestInfoSelect("fldId", Session["GuestInfId"].ToString(),"", 1).FirstOrDefault();
            Name = user.fldName + " " + user.fldFamily;
        }
        else { 
            Name = "کاربر گرامی";
        }
    }
    if (Session["UserId"] != null || Session["GeustId"] != null)
    {
        var state = p.sp_StateSelect("fldId", Session["UserState"].ToString(), 1, Convert.ToInt32(Session["UserId"]), Session["UserPass"].ToString()).FirstOrDefault();
        var Mnu = p.sp_MunicipalitySelect("fldId", Session["UserMnu"].ToString(), 1, Convert.ToInt32(Session["UserId"]), Session["UserPass"].ToString()).FirstOrDefault();

        if (Mnu != null)
        {
            Location = state.fldName + " --> " + Mnu.fldName + Session["Location"];
        }
    }
    else
    {
        var g = p.sp_GuestUserSelect("fldId", Session["UserGeust"].ToString(), "", 1).FirstOrDefault();
        if (g != null)
        {
            Location = g.fldNameState + " --> " + g.fldMunName + Session["Location"];
        }
    }
    /*ViewBag.time = DateTime.Now.Hour.ToString() + ":" + DateTime.Now.Minute.ToString() + ":" + DateTime.Now.Second.ToString();*/
    if (Session["UserId"] != null)
    {
        var Div = p.sp_GET_IDCountryDivisions(Convert.ToInt32(Session["CountryType"]), Convert.ToInt32(Session["CountryCode"])).FirstOrDefault();
        var TransactionInf = p.sp_TransactionInfSelect("fldDivId", Div.CountryDivisionId.ToString(), 0).FirstOrDefault();

        if (System.Web.Configuration.WebConfigurationManager.AppSettings["InnerExeption"].ToString() == "false")
        {
            Avarez.WebTransaction.TransactionWebService h = new Avarez.WebTransaction.TransactionWebService();
            var ImageSetting = System.Configuration.ConfigurationManager.AppSettings["ImageSetting"].ToString();
            if (ImageSetting == "4" && Session["UserId"].ToString()=="35"){
                Mojodi = "97530";
            }
            else{
            if (TransactionInf != null)
            {
                trnUser = TransactionInf.fldUserName;
                trnPass = TransactionInf.fldPass;
                var y = h.CheckAccountCharge(TransactionInf.fldUserName, TransactionInf.fldPass, (int)TransactionInf.CountryType, TransactionInf.fldCountryDivisionsName);
                if (y != null)
                {
                    Mojodi = /*int.Parse(*/y.Mojodi/*).ToString("N0")+" ریال"*/;
                }
            }
            }
        }
    }
}
@if (ViewBag.ImageSetting != "1"||ViewBag.ImageSetting != "2")
{
    <style>
        .ux-start-button-icon {
            background-image: url("/content/small-rasa-red.png") !important;
            background-color: transparent;
        }
    </style>
}

<style>
    .abc {
        text-align: right !important;
    }
</style>
@(

 Html.X().Desktop()

    .ID("Desktop1").Listeners(l => l.Ready.Handler = "$('.ux-start-button .x-btn-inner').html('شروع');checkPassTime();CheckEtelaie();GetSetting();")
.Modules(
Html.X().DesktopModule()
            .ModuleID("Hello")
            .AutoRun(true)
            .Window(
                Html.X().Window()
                    .ID("InfoWin")
                    .Plain(true)
                    .AutoScroll(true)
        //.Padding(10)
                    .Height(150)
                    .Width(350)
                    .Modal(true)
                    .Title("اطلاعیه های مهم")
                    .CloseAction(CloseAction.Destroy)
                    .Maximizable(false)
                    .Minimizable(false)
                    .Items(
                                Html.X().Panel().PaddingSpec("5px 0 0 0")
                        .Border(false)
                        .Layout(LayoutType.VBox).ID("pnletela")
                                .LayoutConfig(new VBoxLayoutConfig { Align = VBoxAlign.Stretch })
                    )
                    .Content(@<p id="Info"></p>)
                        ),
    Html.X().DesktopModule()
        //.AutoRun(true)
            .ModuleID("create-Cartax")
        .Shortcut(
                Html.X().DesktopShortcut()
        //.Handler("Ext.net.DirectMethod.request({url: 'NewVer/EnteghalSavabegh/Index?id=2'})")
                .Name("عوارض")
                    .IconCls("shortcut-CartaxNew")
                    .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 222))
                .SortIndex(3)
        )
        .Launcher(
            Html.X().MenuItem()
                    .Text("عوارض")
                        .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 222))
                                .IconCls("shortcut-CartaxNew")


        )
            .Window(
                Html.X().Window().RTL(true)

                    .Listeners(l => l.AfterRender.Handler = "Ext.net.Mask.show({ msg : 'در حال بارگذاری...' });Ext.net.DirectMethod.request({url: '/NewVer/Parvande/Index?containerId=AvarezTab',success:function(){Ext.net.Mask.hide();}})")
                    .ID("AvarezWin")
                    .AutoScroll(true)
                        .Title("عوارض")

                    .Icon(Ext.Net.Icon.Report)
                        .BodyStyle("background-color:rergb(244, 247, 249;")
                    .CloseAction(Ext.Net.CloseAction.Destroy)
                        .Layout(Ext.Net.LayoutType.Fit)
                    .Maximized(true)
                    .Height(300)
        //   .Height(700)
                                .Items(X.TabPanel().ID("AvarezTab").Layout(LayoutType.Fit).AutoScroll(true).Border(false))
                    ),
        Html.X().DesktopModule()
        //.AutoRun(true)
                .ModuleID("create-Nahaii")
            .Shortcut(
                Html.X().DesktopShortcut()
                                .Handler("Ext.net.Mask.show({ msg : 'در حال بارگذاری...' });Ext.net.DirectMethod.request({url:'/NewVer/PardakhtFiles_New/Index',success:function(){Ext.net.Mask.hide();}})")
                    .Name("عملیات نهایی")
                            .IconCls("shortcut-Nahaii")
                        .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 312))
                    .SortIndex(6)
            )
            .Launcher(
                Html.X().MenuItem()
                            .Text("عملیات نهایی")
                .Handler("Ext.net.DirectMethod.request({url:'/NewVer/PardakhtFiles_New/Index'})")
                            .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 312))
                                        .IconCls("shortcut-Nahaii")

            )
                /*,
                    Html.X().DesktopModule()
                        .ModuleID("Monitoringsavabegh")
                        .Window(
                            Html.X().Window()
                            .RTL(true)
                            .Listeners(l => l.AfterRender.Handler = "Ext.net.Mask.show({ msg : 'در حال بارگذاری...' });Ext.net.DirectMethod.request({url: '/NewVer/MonitoringCarExperience/Index',success:function(){Ext.net.Mask.hide();}})")
                            .ID("MonitoringCarExp")
                            .AutoScroll(true)
                            .Title("انتقال سوابق تأیید نشده")
                            .Icon(Ext.Net.Icon.Page)
                            .CloseAction(Ext.Net.CloseAction.Destroy)
                            .Layout(Ext.Net.LayoutType.Fit)
                            .Maximized(true)
                        .Height(300)
                        )
                    .Shortcut(
                        Html.X().DesktopShortcut()
                            .Name("مانیتورینگ سوابق")
                            .IconCls("MonitoringSavabegh")
                            .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 429))
                            .SortIndex(6)
                    )
                    .Launcher(
                        Html.X().MenuItem()
                        .Text("مانیتورینگ سوابق")
                        .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 429))
                        .IconCls("MonitoringSavabegh")
                )*/
                    ,
    Html.X().DesktopModule()
        .ModuleID("create-BasicInf")
        .Shortcut(
            Html.X().DesktopShortcut()
                .Name("اطلاعات پایه")
                .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 1))
                .IconCls("shortcut-BasicInfNew")
                .SortIndex(0)
        )
        .Launcher(
            Html.X().MenuItem()
                .Text("اطلاعات پایه")
                    .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 1))
        //.Hidden(!servic.Permission(7, Session["Username"].ToString(), Session["Password"].ToString(), out Err))
                    .IconCls("shortcut-BasicInfNew")
        )
        .Window(
            Html.X().Window()
                .RTL(true)
                .AutoScroll(true)
                .Title("بانک اطلاعاتی")
                .Icon(Ext.Net.Icon.User)
                .BodyStyle("background-color:rergb(244, 247, 249;")
                .CloseAction(Ext.Net.CloseAction.Destroy)
                .Layout(Ext.Net.LayoutType.Fit)
                .Maximized(true)
                .Height(600)
                .ID("BasicInfWin")
                .Items(
                X.Panel().Split(true)
                .Border(false)
                .Layout(LayoutType.Fit)
                .Items(
                    Html.X().TabPanel()
                        .Layout(LayoutType.Fit)
                        .Border(false)
                        .Items(
                                X.Panel().Split(true)
                                .Title("اطلاعات پایه")
                                .Layout(LayoutType.Fit)
                                .Border(false)
                                .TabMenu(m => m.Add(X.Menu().Items(
                                    X.MenuItem()
                                        .Text("نوع بانک")
                                        .DirectClickUrl("/NewVer/BankType_New/index?containerId=BasicInfTab")
                                        .IconCls("BankType")
                                        .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 3)),
                                    X.MenuItem()
                                        .Text("بانک")
                                        .DirectClickUrl("/NewVer/Bank_New/index?containerId=BasicInfTab")
                                        .IconCls("Bank")
                                        .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 7)),
                                    X.MenuItem()
                                        .Text("شعبه")
                                        .DirectClickUrl("/NewVer/BankBranch_New/index?containerId=BasicInfTab")
                                        .IconCls("BankBranch")
                                        .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 11)),
                                    X.MenuItem()
                                        .Text("استان")
                                        .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 16))
                                        .DirectClickUrl("/NewVer/State_New/index?containerId=BasicInfTab")
                                        .IconCls("State"),
                                    X.MenuItem()
                                        .Text("شهرستان")
                                        .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 20))
                                        .DirectClickUrl("/NewVer/County_New/index?containerId=BasicInfTab")
                                        .IconCls("County"),
                                    X.MenuItem()
                                        .Text("بخش")
                                        .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 24))
                                        .DirectClickUrl("/NewVer/Zone_New/index?containerId=BasicInfTab")
                                        .IconCls("Zone"),
                                    X.MenuItem()
                                        .Text("شهر")
                                        .DirectClickUrl("/NewVer/City_New/index?containerId=BasicInfTab")
                                        .IconCls("City")
                                        .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 28)),
                                    X.MenuItem()
                                            .Text("شهرداری")
                                            .DirectClickUrl("/NewVer/Municipality_New/index?containerId=BasicInfTab")
                                            .IconCls("Municipality")
                                           .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 32)),
                                    X.MenuItem()
                                        .Text("منطقه")
                                        .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 36))
                                        .DirectClickUrl("/NewVer/Local_New/index?containerId=BasicInfTab")
                                        .IconCls("Local"),
                                    X.MenuItem()
                                        .Text("ناحیه")
                                        .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 40))
                                        .DirectClickUrl("/NewVer/Area_New/index?containerId=BasicInfTab")
                                        .IconCls("Area"),
                                    X.MenuItem()
                                        .Text("نوع دفتر")
                                        .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 44))
                                        .DirectClickUrl("/NewVer/OfficeType_New/index?containerId=BasicInfTab")
                                        .IconCls("OfficeType"),
                                    X.MenuItem()
                                        .Text("دفتر")
                                        .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 48))
                                        .DirectClickUrl("/NewVer/Offices_New/index?containerId=BasicInfTab")
                                        .IconCls("Offices"),
                                    X.MenuItem()
                                        .Text("رنگ خودرو")
                                        .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 53))
                                        .DirectClickUrl("/NewVer/CarColor_New/index?containerId=BasicInfTab")
                                        .IconCls("CarColor"),
                                    X.MenuItem()
                                        .Text("نوع سوخت")
                                        .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 57))
                                        .DirectClickUrl("/NewVer/FuelType_New/index?containerId=BasicInfTab")
                                        .IconCls("FuelType"),
                                    X.MenuItem()
                                        .Text("کشور سازنده")
                                        .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 61))
                                        .DirectClickUrl("/NewVer/ShortTerm_New/Index?containerId=BasicInfTab")
                                        .IconCls("ShortTerm"),
                                    X.MenuItem()
                                        .Text("نوع ساخت")
                                        .DirectClickUrl("/NewVer/CarMake_New/index?containerId=BasicInfTab")
                                        .IconCls("CarMak")
                                        .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 65)),
                                    X.MenuItem()
                                        .Text("نوع کاربری")
                                        .DirectClickUrl("/NewVer/CarAccountType_New/index?containerId=BasicInfTab")
                                        .IconCls("CarAccountType")
                                        .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 69)),
                                    X.MenuItem()
                                        .Text("نوع کابین")
                                        .DirectClickUrl("/NewVer/CarCabin_New/index?containerId=BasicInfTab")
                                        .IconCls("CarCabin")
                                        .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 73)),
                                    X.MenuItem()
                                        .Text("سیستم خودرو")
                                        .DirectClickUrl("/NewVer/CarSystem_New/index?containerId=BasicInfTab")
                                        .IconCls("CarSystem")
                                        .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 77)),
                                    X.MenuItem()
                                        .Text("الگوی تیپ خودرو")
                                        .DirectClickUrl("/NewVer/CarPatternModel_New/index?containerId=BasicInfTab")
                                        .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 81))
                                        .IconCls("CarPatternModel"),
                                    X.MenuItem()
                                        .Text("تیپ خودرو")
                                        .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 85))
                                        .DirectClickUrl("/NewVer/CarModel_New/Index?containerId=BasicInfTab")
                                        .IconCls("CarTip"),
                                    X.MenuItem()
                                        .Text("کلاس خودرو")
                                        .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 89))
                                        .DirectClickUrl("/NewVer/CarClass_New/Index?containerId=BasicInfTab")
                                        .IconCls("CarClass"),
                                    X.MenuItem()
                                        .Text("کاراکتر وسط پلاک")
                                        .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 94))
                                        .DirectClickUrl("/NewVer/CharPerPlaque_New/Index?containerId=BasicInfTab")
                                        .IconCls("CharPerPlaque"),
                                    X.MenuItem()
                                        .Text("نوع پلاک")
                                        .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 98))
                                        .DirectClickUrl("/NewVer/PlaqueType_New/index?containerId=BasicInfTab")
                                        .IconCls("PlaqueType"),
                                    X.MenuItem()
                                        .Text("سریال پلاک")
                                        .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 102))
                                        .DirectClickUrl("/NewVer/PelaqueSerial_New/index?containerId=BasicInfTab")
                                        .IconCls("PlaqueSerial"),
                                    X.MenuItem()
                                        .Text("وضعیت پلاک")
                                        .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 106))
                                        .DirectClickUrl("/NewVer/StatusPelaque_New/index?containerId=BasicInfTab")
                                        .IconCls("StatusPelaque"),
                                    X.MenuItem()
                                        .Text("شهر پلاک")
                                        .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 110))
                                        .DirectClickUrl("/NewVer/PelaqueCity_New/index?containerId=BasicInfTab")
                                        .IconCls("PelaqueCity")
                                    //     , X.MenuItem()
                                    //  .Text("ساختار درختی بایگانی دیجیتال")
                                    // .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 345))
                                    //  .DirectClickUrl("/NewVer/DigitalTree_New/index?containerId=BasicInfTab")
                                    // .IconCls("DigitalTree")
                            )))
                                .Items(
                                    Html.X().TabPanel()
                                        .Border(false)
                                        .Layout(LayoutType.Fit)
                                        .ID("BasicInfTab")
                                        .ManageHeight(true)
                                        .Items(
                                                X.Panel().Split(true)
                                                .Title("میزکار")
                                                .Border(false)
                                                .AutoScroll(true)
                                                .Margins("30 0 0 0")
                                                .Height(550)
                                                .LayoutConfig(new Ext.Net.HBoxLayoutConfig { Align = Ext.Net.HBoxAlign.StretchMax, Pack = Ext.Net.BoxPack.Center })
                                                .Items(
                                                    X.Container()
                                                        .Region(Ext.Net.Region.Center)
                                                        .Layout(Ext.Net.LayoutType.Table)
                                                        .Center()
                                                        .LayoutConfig(new Ext.Net.TableLayoutConfig { Columns = 7 })
                                                        .Defaults(new { Width = 110, Height = 110 })
                                                        .Items(
                                                            X.ImageButton()
                                                                .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 3))
                                                                .ImageUrl("/content/icon/ImageButton/تعریف نوع بانک2.png")
                                                                .OverImageUrl("/content/icon/ImageButton/تعریف نوع بانک.png")
                                                                .DirectEvents(
                                                                    de =>
                                                                    {
                                                                        de.Click.Url = "/NewVer/BankType_New/index";
                                                                        de.Click.ExtraParams.Add(new { containerId = "BasicInfTab" });
                                                                        de.Click.Before = "if(App.BankType!=null){var tab =App.BasicInfTab.getComponent('BankType');App.BasicInfTab.setActiveTab(tab);return false;}Ext.net.Mask.show({ msg : 'در حال بارگذاری...' });";
                                                                        de.Click.Success = "Ext.net.Mask.hide();";
                                                                    }
                                                                ),
                                                            X.ImageButton()
                                                                .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 7))
                                                                .ImageUrl("/content/icon/ImageButton/تعریف بانک2.png")
                                                                .OverImageUrl("/content/icon/ImageButton/تعریف بانک.png")
                                                                .DirectEvents(
                                                                    de =>
                                                                    {
                                                                        de.Click.Url = "/NewVer/Bank_New/index";
                                                                        de.Click.ExtraParams.Add(new { containerId = "BasicInfTab" });
                                                                        de.Click.Before = "if(App.Bank!=null){var tab =App.BasicInfTab.getComponent('Bank');App.BasicInfTab.setActiveTab(tab);return false;}Ext.net.Mask.show({ msg : 'در حال بارگذاری...' });";
                                                                        de.Click.Success = "Ext.net.Mask.hide();";
                                                                    }
                                                                    ),
                                                            X.ImageButton()
                                                                .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 11))
                                                                .ImageUrl("/content/icon/ImageButton/تعریف شعبه2.png")
                                                                .OverImageUrl("/content/icon/ImageButton/تعریف شعبه.png")
                                                                .DirectEvents(
                                                                    de =>
                                                                    {
                                                                        de.Click.Url = "/NewVer/BankBranch_New/Index";
                                                                        de.Click.ExtraParams.Add(new { containerId = "BasicInfTab" });
                                                                        de.Click.Before = "if(App.BankBranch!=null){var tab =App.BasicInfTab.getComponent('BankBranch');App.BasicInfTab.setActiveTab(tab);return false;}Ext.net.Mask.show({ msg : 'در حال بارگذاری...' });";
                                                                        de.Click.Success = "Ext.net.Mask.hide();";
                                                                    }
                                                                ),
                                                            X.ImageButton()
                                                                .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 16))
                                                                .ImageUrl("/content/icon/ImageButton/استان2.png")
                                                                .OverImageUrl("/content/icon/ImageButton/استان.png")
                                                                .DirectEvents(
                                                                    de =>
                                                                    {
                                                                        de.Click.Url = "/NewVer/State_New/index";
                                                                        de.Click.ExtraParams.Add(new { containerId = "BasicInfTab" });
                                                                        de.Click.Before = "if(App.State!=null){var tab =App.BasicInfTab.getComponent('State');App.BasicInfTab.setActiveTab(tab);return false;}Ext.net.Mask.show({ msg : 'در حال بارگذاری...' });";
                                                                        de.Click.Success = "Ext.net.Mask.hide();";
                                                                    }
                                                                ),
                                                            X.ImageButton()
                                                                .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 20))
                                                                .ImageUrl("/content/icon/ImageButton/شهرستان 2.png")
                                                                .OverImageUrl("/content/icon/ImageButton/شهرستان.png")
                                                                .DirectEvents(
                                                                    de =>
                                                                    {
                                                                        de.Click.Url = "/NewVer/County_New/index";
                                                                        de.Click.ExtraParams.Add(new { containerId = "BasicInfTab" });
                                                                        de.Click.Before = "if(App.County!=null){var tab =App.BasicInfTab.getComponent('County');App.BasicInfTab.setActiveTab(tab);return false;}Ext.net.Mask.show({ msg : 'در حال بارگذاری...' });";
                                                                        de.Click.Success = "Ext.net.Mask.hide();";
                                                                    }
                                                                ),
                                                            X.ImageButton()
                                                                .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 24))
                                                                .ImageUrl("/content/icon/ImageButton/تعریف بخش2.png")
                                                                .OverImageUrl("/content/icon/ImageButton/تعریف بخش.png")
                                                                .DirectEvents(
                                                                    de =>
                                                                    {
                                                                        de.Click.Url = "/NewVer/Zone_New/index";
                                                                        de.Click.ExtraParams.Add(new { containerId = "BasicInfTab" });
                                                                        de.Click.Before = "if(App.Zone!=null){var tab =App.BasicInfTab.getComponent('Zone');App.BasicInfTab.setActiveTab(tab);return false;}Ext.net.Mask.show({ msg : 'در حال بارگذاری...' });";
                                                                        de.Click.Success = "Ext.net.Mask.hide();";
                                                                    }
                                                                ),
                                                            X.ImageButton()
                                                                .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 28))
                                                                .ImageUrl("/content/icon/ImageButton/شهر2.png")
                                                                .OverImageUrl("/content/icon/ImageButton/شهر.png")
                                                                .DirectEvents(
                                                                    de =>
                                                                    {
                                                                        de.Click.Url = "/NewVer/City_New/index";
                                                                        de.Click.ExtraParams.Add(new { containerId = "BasicInfTab" });
                                                                        de.Click.Before = "if(App.City_New!=null){var tab =App.BasicInfTab.getComponent('City_New');App.BasicInfTab.setActiveTab(tab);return false;}Ext.net.Mask.show({ msg : 'در حال بارگذاری...' });";
                                                                        de.Click.Success = "Ext.net.Mask.hide();";
                                                                    }
                                                                ),
                                                            X.ImageButton()
                                                            .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 32))
                                                            .ImageUrl("/content/icon/ImageButton/شهرداری2.png")
                                                            .OverImageUrl("/content/icon/ImageButton/شهرداری.png")
                                                            .DirectEvents(
                                                                de =>
                                                                {
                                                                    de.Click.Url = "/NewVer/Municipality_New/index";
                                                                    de.Click.ExtraParams.Add(new { containerId = "BasicInfTab" });
                                                                    de.Click.Before = "if(App.Municipality!=null){var tab =App.BasicInfTab.getComponent('Municipality');App.BasicInfTab.setActiveTab(tab);return false;}Ext.net.Mask.show({ msg : 'در حال بارگذاری...' });";
                                                                    de.Click.Success = "Ext.net.Mask.hide();";
                                                                }
                                                            ),
                                                            X.ImageButton()
                                                                .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 36))
                                                                .ImageUrl("/content/icon/ImageButton/منطقه2.png")
                                                                .OverImageUrl("/content/icon/ImageButton/منطقه.png")
                                                                .DirectEvents(
                                                                    de =>
                                                                    {
                                                                        de.Click.Url = "/NewVer/Local_New/index";
                                                                        de.Click.ExtraParams.Add(new { containerId = "BasicInfTab" });
                                                                        de.Click.Before = "if(App.Local!=null){var tab =App.BasicInfTab.getComponent('Local');App.BasicInfTab.setActiveTab(tab);return false;}Ext.net.Mask.show({ msg : 'در حال بارگذاری...' });";
                                                                        de.Click.Success = "Ext.net.Mask.hide();";
                                                                    }
                                                                ),
                                                                X.ImageButton()
                                                                .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 40))
                                                                .ImageUrl("/content/icon/ImageButton/ناحیه2.png")
                                                                .OverImageUrl("/content/icon/ImageButton/ناحیه.png")
                                                                .DirectEvents(
                                                                    de =>
                                                                    {
                                                                        de.Click.Url = "/NewVer/Area_New/index";
                                                                        de.Click.ExtraParams.Add(new { containerId = "BasicInfTab" });
                                                                        de.Click.Before = "if(App.Area!=null){var tab =App.BasicInfTab.getComponent('Area');App.BasicInfTab.setActiveTab(tab);return false;}Ext.net.Mask.show({ msg : 'در حال بارگذاری...' });";
                                                                        de.Click.Success = "Ext.net.Mask.hide();";
                                                                    }
                                                                ),
                                                            X.ImageButton()
                                                                .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 44))
                                                                .ImageUrl("/content/icon/ImageButton/نوع دفتر2.png")
                                                                .OverImageUrl("/content/icon/ImageButton/نوع دفتر.png")
                                                                .DirectEvents(
                                                                    de =>
                                                                    {
                                                                        de.Click.Url = "/NewVer/OfficeType_New/index";
                                                                        de.Click.ExtraParams.Add(new { containerId = "BasicInfTab" });
                                                                        de.Click.Before = "if(App.OfficeType_New!=null){var tab =App.BasicInfTab.getComponent('OfficeType_New');App.BasicInfTab.setActiveTab(tab);return false;}Ext.net.Mask.show({ msg : 'در حال بارگذاری...' });";
                                                                        de.Click.Success = "Ext.net.Mask.hide();";
                                                                    }
                                                                ),
                                                            X.ImageButton()
                                                                .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 48))
                                                                .ImageUrl("/content/icon/ImageButton/دفتر2.png")
                                                                .OverImageUrl("/content/icon/ImageButton/دفتر.png")
                                                                .DirectEvents(
                                                                    de =>
                                                                    {
                                                                        de.Click.Url = "/NewVer/Offices_New/index";
                                                                        de.Click.ExtraParams.Add(new { containerId = "BasicInfTab" });
                                                                        de.Click.Before = "if(App.Offices_New!=null){var tab =App.BasicInfTab.getComponent('Offices_New');App.BasicInfTab.setActiveTab(tab);return false;}Ext.net.Mask.show({ msg : 'در حال بارگذاری...' });";
                                                                        de.Click.Success = "Ext.net.Mask.hide();";
                                                                    }
                                                                ),
                                                            X.ImageButton()
                                                                .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 53))
                                                                .ImageUrl("/content/icon/ImageButton/رنگ خودرو2.png")
                                                                .OverImageUrl("/content/icon/ImageButton/رنگ خودرو.png")
                                                                .DirectEvents(
                                                                    de =>
                                                                    {
                                                                        de.Click.Url = "/NewVer/CarColor_New/Index";
                                                                        de.Click.ExtraParams.Add(new { containerId = "BasicInfTab" });
                                                                        de.Click.Before = "if(App.ColorCar!=null){var tab =App.BasicInfTab.getComponent('ColorCar');App.BasicInfTab.setActiveTab(tab);return false;}Ext.net.Mask.show({ msg : 'در حال بارگذاری...' });";
                                                                        de.Click.Success = "Ext.net.Mask.hide();";
                                                                    }
                                                                ),
                                                            X.ImageButton()
                                                                .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 57))
                                                                .ImageUrl("/content/icon/ImageButton/نوع سوخت2.png")
                                                                .OverImageUrl("/content/icon/ImageButton/نوع سوخت.png")
                                                                .DirectEvents(
                                                                    de =>
                                                                    {
                                                                        de.Click.Url = "/NewVer/FuelType_New/index";
                                                                        de.Click.ExtraParams.Add(new { containerId = "BasicInfTab" });
                                                                        de.Click.Before = "if(App.FuelType!=null){var tab =App.BasicInfTab.getComponent('FuelType');App.BasicInfTab.setActiveTab(tab);return false;}Ext.net.Mask.show({ msg : 'در حال بارگذاری...' });";
                                                                        de.Click.Success = "Ext.net.Mask.hide();";
                                                                    }
                                                                ),
                                                            X.ImageButton()
                                                                .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 61))
                                                                .ImageUrl("/content/icon/ImageButton/کشورهای سازنده2.png")
                                                                .OverImageUrl("/content/icon/ImageButton/کشورهای سازنده.png")
                                                                .DirectEvents(
                                                                    de =>
                                                                    {
                                                                        de.Click.Url = "/NewVer/ShortTerm_New/Index";
                                                                        de.Click.ExtraParams.Add(new { containerId = "BasicInfTab" });
                                                                        de.Click.Before = "if(App.ShortTerm_New!=null){var tab =App.BasicInfTab.getComponent('ShortTerm_New');App.BasicInfTab.setActiveTab(tab);return false;}Ext.net.Mask.show({ msg : 'در حال بارگذاری...' });";
                                                                        de.Click.Success = "Ext.net.Mask.hide();";
                                                                    }
                                                                ),
                                                            X.ImageButton()
                                                                .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 65))
                                                                .ImageUrl("/content/icon/ImageButton/نوع ساخت2.png")
                                                                .OverImageUrl("/content/icon/ImageButton/نوع ساخت.png")
                                                                .DirectEvents(
                                                                    de =>
                                                                    {
                                                                        de.Click.Url = "/NewVer/CarMake_New/index";
                                                                        de.Click.ExtraParams.Add(new { containerId = "BasicInfTab" });
                                                                        de.Click.Before = "if(App.CarMake!=null){var tab =App.BasicInfTab.getComponent('CarMake');App.BasicInfTab.setActiveTab(tab);return false;}Ext.net.Mask.show({ msg : 'در حال بارگذاری...' });";
                                                                        de.Click.Success = "Ext.net.Mask.hide();";
                                                                    }
                                                                ),
                                                            X.ImageButton()
                                                                .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 69))
                                                                    .ImageUrl("/content/icon/ImageButton/نوع کاربری2.png")
                                                                    .OverImageUrl("/content/icon/ImageButton/نوع کاربری.png")
                                                                .DirectEvents(
                                                                    de =>
                                                                    {
                                                                        de.Click.Url = "/NewVer/CarAccountType_New/index";
                                                                        de.Click.ExtraParams.Add(new { containerId = "BasicInfTab" });
                                                                        de.Click.Before = "if(App.CarAccountType!=null){var tab =App.BasicInfTab.getComponent('CarAccountType');App.BasicInfTab.setActiveTab(tab);return false;}Ext.net.Mask.show({ msg : 'در حال بارگذاری...' });";
                                                                        de.Click.Success = "Ext.net.Mask.hide();";
                                                                    }
                                                                ),
                                                            X.ImageButton()
                                                                .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 73))
                                                                .ImageUrl("/content/icon/ImageButton/نوع کابین2.png")
                                                                .OverImageUrl("/content/icon/ImageButton/نوع کابین.png")
                                                                .DirectEvents(
                                                                    de =>
                                                                    {
                                                                        de.Click.Url = "/NewVer/CarCabin_New/Index";
                                                                        de.Click.ExtraParams.Add(new { containerId = "BasicInfTab" });
                                                                        de.Click.Before = "if(App.CarCabin!=null){var tab =App.BasicInfTab.getComponent('CarCabin');App.BasicInfTab.setActiveTab(tab);return false;}Ext.net.Mask.show({ msg : 'در حال بارگذاری...' });";
                                                                        de.Click.Success = "Ext.net.Mask.hide();";
                                                                    }
                                                                ),
                                                            X.ImageButton()
                                                                .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 77))
                                                                .ImageUrl("/content/icon/ImageButton/سیستم خودرو2.png")
                                                                .OverImageUrl("/content/icon/ImageButton/سیستم خودرو.png")
                                                                .DirectEvents(
                                                                    de =>
                                                                    {
                                                                        de.Click.Url = "/NewVer/CarSystem_New/Index";
                                                                        de.Click.ExtraParams.Add(new { containerId = "BasicInfTab" });
                                                                        de.Click.Before = "if(App.CarSystem!=null){var tab =App.BasicInfTab.getComponent('CarSystem');App.BasicInfTab.setActiveTab(tab);return false;}Ext.net.Mask.show({ msg : 'در حال بارگذاری...' });";
                                                                        de.Click.Success = "Ext.net.Mask.hide();";
                                                                    }
                                                                ),
                                                            X.ImageButton()
                                                                .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 81))
                                                                .ImageUrl("/content/icon/ImageButton/الگوی تیپ خودرو2.png")
                                                                .OverImageUrl("/content/icon/ImageButton/الگوی تیپ خودرو.png")
                                                                .DirectEvents(
                                                                    de =>
                                                                    {
                                                                        de.Click.Url = "/NewVer/CarPatternModel_New/Index";
                                                                        de.Click.ExtraParams.Add(new { containerId = "BasicInfTab" });
                                                                        de.Click.Before = "if(App.CarPatternModel!=null){var tab =App.BasicInfTab.getComponent('CarPatternModel');App.BasicInfTab.setActiveTab(tab);return false;}Ext.net.Mask.show({ msg : 'در حال بارگذاری...' });";
                                                                        de.Click.Success = "Ext.net.Mask.hide();";
                                                                    }
                                                                ),
                                                            X.ImageButton()
                                                                .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 85))
                                                                .ImageUrl("/content/icon/ImageButton/تیپ خودرو2.png")
                                                                .OverImageUrl("/content/icon/ImageButton/تیپ خودرو.png")
                                                                .DirectEvents(
                                                                    de =>
                                                                    {
                                                                        de.Click.Url = "/NewVer/CarModel_New/Index";
                                                                        de.Click.ExtraParams.Add(new { containerId = "BasicInfTab" });
                                                                        de.Click.Before = "if(App.CarModel!=null){var tab =App.BasicInfTab.getComponent('CarModel');App.BasicInfTab.setActiveTab(tab);return false;}Ext.net.Mask.show({ msg : 'در حال بارگذاری...' });";
                                                                        de.Click.Success = "Ext.net.Mask.hide();";
                                                                    }
                                                                ),
                                                            X.ImageButton()
                                                                .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 89))
                                                                        .ImageUrl("/content/icon/ImageButton/کلاس خودرو2.png")
                                                                        .OverImageUrl("/content/icon/ImageButton/کلاس خودرو.png")
                                                                .DirectEvents(
                                                                    de =>
                                                                    {
                                                                        de.Click.Url = "/NewVer/CarClass_New/Index";
                                                                        de.Click.ExtraParams.Add(new { containerId = "BasicInfTab" });
                                                                        de.Click.Before = "if(App.CarClass!=null){var tab =App.BasicInfTab.getComponent('CarClass');App.BasicInfTab.setActiveTab(tab);return false;}Ext.net.Mask.show({ msg : 'در حال بارگذاری...' });";
                                                                        de.Click.Success = "Ext.net.Mask.hide();";
                                                                    }
                                                                ),
                                                            X.ImageButton()
                                                                .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 94))
                                                                .ImageUrl("/content/icon/ImageButton/کاراکتر وسط پلاک2.png")
                                                                .OverImageUrl("/content/icon/ImageButton/کاراکتر وسط پلاک.png")
                                                                .DirectEvents(
                                                                    de =>
                                                                    {
                                                                        de.Click.Url = "/NewVer/CharPerPlaque_New/Index";
                                                                        de.Click.ExtraParams.Add(new { containerId = "BasicInfTab" });
                                                                        de.Click.Before = "if(App.CharPerPlaque!=null){var tab =App.BasicInfTab.getComponent('CharPerPlaque');App.BasicInfTab.setActiveTab(tab);return false;}Ext.net.Mask.show({ msg : 'در حال بارگذاری...' });";
                                                                        de.Click.Success = "Ext.net.Mask.hide();";
                                                                    }
                                                                ),
                                                            X.ImageButton()
                                                                .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 98))
                                                                    .ImageUrl("/content/icon/ImageButton/نوع پلاک 2.png")
                                                                .OverImageUrl("/content/icon/ImageButton/نوع پلاک.png")
                                                                .DirectEvents(
                                                                    de =>
                                                                    {
                                                                        de.Click.Url = "/NewVer/PlaqueType_New/index";
                                                                        de.Click.ExtraParams.Add(new { containerId = "BasicInfTab" });
                                                                        de.Click.Before = "if(App.PlaqueType!=null){var tab =App.BasicInfTab.getComponent('PlaqueType');App.BasicInfTab.setActiveTab(tab);return false;}Ext.net.Mask.show({ msg : 'در حال بارگذاری...' });";
                                                                        de.Click.Success = "Ext.net.Mask.hide();";
                                                                    }
                                                                ),
                                                                X.ImageButton()
                                                                .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 102))
                                                                .ImageUrl("/content/icon/ImageButton/سریال پلاک 2.png")
                                                                .OverImageUrl("/content/icon/ImageButton/سریال پلاک.png")
                                                                .DirectEvents(
                                                                    de =>
                                                                    {
                                                                        de.Click.Url = "/NewVer/PelaqueSerial_New/index";
                                                                        de.Click.ExtraParams.Add(new { containerId = "BasicInfTab" });
                                                                        de.Click.Before = "if(App.PelaqueSerial!=null){var tab =App.BasicInfTab.getComponent('PelaqueSerial');App.BasicInfTab.setActiveTab(tab);return false;}Ext.net.Mask.show({ msg : 'در حال بارگذاری...' });";
                                                                        de.Click.Success = "Ext.net.Mask.hide();";
                                                                    }
                                                                ),
                                                            X.ImageButton()
                                                                .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 106))
                                                                .ImageUrl("/content/icon/ImageButton/وضعیت پلاک 2.png")
                                                                .OverImageUrl("/content/icon/ImageButton/وضعیت پلاک.png")
                                                                .DirectEvents(
                                                                    de =>
                                                                    {
                                                                        de.Click.Url = "/NewVer/StatusPelaque_New/index";
                                                                        de.Click.ExtraParams.Add(new { containerId = "BasicInfTab" });
                                                                        de.Click.Before = "if(App.StatusPelaque!=null){var tab =App.BasicInfTab.getComponent('StatusPelaque');App.BasicInfTab.setActiveTab(tab);return false;}Ext.net.Mask.show({ msg : 'در حال بارگذاری...' });";
                                                                        de.Click.Success = "Ext.net.Mask.hide();";
                                                                    }
                                                                ),
                                                            X.ImageButton()
                                                                .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 110))
                                                                    .ImageUrl("/content/icon/ImageButton/شهرپلاک 2.png")
                                                                .OverImageUrl("/content/icon/ImageButton/شهر پلاک.png")
                                                                .DirectEvents(
                                                                    de =>
                                                                    {
                                                                        de.Click.Url = "/NewVer/PelaqueCity_New/index";
                                                                        de.Click.ExtraParams.Add(new { containerId = "BasicInfTab" });
                                                                        de.Click.Before = "if(App.PelaqueCity!=null){var tab =App.BasicInfTab.getComponent('PelaqueCity');App.BasicInfTab.setActiveTab(tab);return false;}Ext.net.Mask.show({ msg : 'در حال بارگذاری...' });";
                                                                        de.Click.Success = "Ext.net.Mask.hide();";
                                                                    }
                                                                )/*,
                                                            X.ImageButton()
                                                                .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 345))
                                                                    .ImageUrl("/content/icon/ImageButton/ساختار درختی2.png")
                                                                    .OverImageUrl("/content/icon/ImageButton/ساختار درختی.png")
                                                                .DirectEvents(
                                                                    de =>
                                                                    {
                                                                        de.Click.Url = "/NewVer/DigitalTree_New/index";
                                                                        de.Click.ExtraParams.Add(new { containerId = "BasicInfTab" });
                                                                        de.Click.Before = "if(App.DigitalTree_New!=null){var tab =App.BasicInfTab.getComponent('DigitalTree_New');App.BasicInfTab.setActiveTab(tab);return false;}Ext.net.Mask.show({ msg : 'در حال بارگذاری...' });";
                                                                        de.Click.Success = "Ext.net.Mask.hide();";
                                                                    }
                                                                )*/

                            )
                        )
                )
            )
        )
    )
)
            ),
            Html.X().DesktopModule()
        .ModuleID("create-FinancialInf")
        .Shortcut(
            Html.X().DesktopShortcut()
                .Name("اطلاعات مالی")
                    .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 114))
        //.Hidden(!servic.Permission(7, Session["Username"].ToString(), Session["Password"].ToString(), out Err))
                    .IconCls("shortcut_Financial")
                .SortIndex(1)
        )
        .Launcher(
            Html.X().MenuItem()
                .Text("اطلاعات مالی")
                    .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 114))
        //.Hidden(!servic.Permission(7, Session["Username"].ToString(), Session["Password"].ToString(), out Err))
                            .IconCls("shortcut_Financial")
        )
        .Window(
            Html.X().Window()
                .RTL(true)
                .AutoScroll(true)
                .Title("اطلاعات مالی")
                .Icon(Ext.Net.Icon.User)
                .BodyStyle("background-color:rergb(244, 247, 249;")
                .CloseAction(Ext.Net.CloseAction.Destroy)
                .Layout(Ext.Net.LayoutType.Fit)
                .Maximized(true)
                .Height(600)
                .ID("FinancialInfWin")
                .Items(
                X.Panel().Split(true)
                .Border(false)
                .Layout(LayoutType.Fit)
                .Items(
                    Html.X().TabPanel()
                        .Layout(LayoutType.Fit)
                        .Border(false)
                        .Items(
                                X.Panel().Split(true)
                                .Title("اطلاعات مالی")
                                .Layout(LayoutType.Fit)
                                .Border(false)
                                .TabMenu(m => m.Add(X.Menu().Items(
                                    X.MenuItem()
                                    .Text("ورود نرخ عوارض سالیانه")
                                    .DirectClickUrl("/NewVer/ComplicationRate_New/index?containerId=FinancialInfTab").IconCls("ComplicationRate")
                                    .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 116))
                                  , X.MenuItem()
                                  .Text("دریافت نرخ ها از وب سرویس").DirectClickUrl("/NewVer/UpdateRate_New/index?containerId=FinancialInfTab").IconCls("UpdateRate")
                                  .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 119))
                                   , X.MenuItem()
                                   .Text("هزینه").DirectClickUrl("/NewVer/Cost_New/index?containerId=FinancialInfTab").IconCls("Cost")
                                   .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 122))
                                   , X.MenuItem()
                                   .Text("تعریف تعیین مقدار هزینه").DirectClickUrl("/NewVer/AmountCost_New/index?containerId=FinancialInfTab").IconCls("AmountCost")
                                   .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 126))
                                   , X.MenuItem()
                                   .Text("قانون جریمه").DirectClickUrl("/NewVer/FinesRule_New/index?containerId=FinancialInfTab").IconCls("FinesRule")
                                   .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 131))
                                    , X.MenuItem()
                                    .Text("اعمال قانون جریمه").DirectClickUrl("/NewVer/ImpFine_New/index?containerId=FinancialInfTab").IconCls("ImpFine")
                                    .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 135))
                                   , X.MenuItem()
                                   .Text("نوع پرداخت").DirectClickUrl("/NewVer/SettleType_New/index?containerId=FinancialInfTab").IconCls("SettleType")
                                   .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 140))
                                    , X.MenuItem()
                                    .Text("نوع تخفیف").DirectClickUrl("/NewVer/SendLetter_New/index?containerId=FinancialInfTab").IconCls("Discount")
                                    .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 144))
                                 , X.MenuItem()
                                 .Text("نوع مرسوله پستی").DirectClickUrl("/NewVer/SendLetter_New/index?containerId=FinancialInfTab").IconCls("SendLetter")
                                 .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 148))
                                  , X.MenuItem()
                                          .Text("تعریف شماره حساب").DirectClickUrl("/NewVer/AccountBank_New/index?containerId=FinancialInfTab").IconCls("AccountBank")
                                          .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 153))
                                   , X.MenuItem()
                                   .Text("تعریف سمت").DirectClickUrl("/NewVer/Post_New/index?containerId=FinancialInfTab").IconCls("Post")
                                   .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 157))
                                  , X.MenuItem()
                                      .Text("تعریف اشخاص صاحب امضا").DirectClickUrl("/NewVer/Signer_New/index?containerId=FinancialInfTab").IconCls("Signer")
                                      .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 161))
                                 , X.MenuItem()
                                 .Text("تعریف اطلاعات پرداخت آنلاین").DirectClickUrl("/NewVer/BankInf_New/index?containerId=FinancialInfTab").IconCls("BankInf")
                                 .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 165)),
                                X.MenuItem().Text("مقایسه درآمد").DirectClickUrl("/NewVer/BudjetByMonth_New/index?containerId=FinancialInfTab").IconCls("Budjet")
                                .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 354))
                            )))
                                .Items(
                                    Html.X().TabPanel()
                                        .Border(false)
                                        .Layout(LayoutType.Fit)
                                        .ID("FinancialInfTab")
                                        .ManageHeight(true)
                                        .Items(
                                                X.Panel().Split(true)
                                                .Title("میزکار")
                                                .Border(false)
                                                .AutoScroll(true)
                                                .Margins("30 0 0 0")
                                                .Height(550)
                                                .LayoutConfig(new Ext.Net.HBoxLayoutConfig { Align = Ext.Net.HBoxAlign.StretchMax, Pack = Ext.Net.BoxPack.Center })
                                                .Items(
                                                    X.Container()
                                                        .Region(Ext.Net.Region.Center)
                                                        .Layout(Ext.Net.LayoutType.Table)
                                                        .Center()
                                                        .LayoutConfig(new Ext.Net.TableLayoutConfig { Columns = 7 })
                                                        .Defaults(new { Width = 110, Height = 110 })
                                                        .Items(
                                                        X.ImageButton()
                                                                .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 116))
                                                                        .ImageUrl("/content/icon/ImageButton/ورود نرخ عوارض سالیانه.png")
                                                                          .OverImageUrl("/content/icon/ImageButton/ورود نرخ عوارض سالیانه2.png")
                                                                .DirectEvents(
                                                                    de =>
                                                                    {
                                                                        de.Click.Url = "/NewVer/ComplicationRate_New/index";
                                                                        de.Click.ExtraParams.Add(new { containerId = "FinancialInfTab" });
                                                                        de.Click.Before = "if(App.ComplicationRate!=null){var tab =App.FinancialInfTab.getComponent('ComplicationRate');App.FinancialInfTab.setActiveTab(tab);return false;}Ext.net.Mask.show({ msg : 'در حال بارگذاری...' });";
                                                                        de.Click.Success = "Ext.net.Mask.hide();";
                                                                    })
                                                         , X.ImageButton()
                                                                .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 119))
                                                                    .ImageUrl("/content/icon/ImageButton/دریافت نرخ ها از وب سرویس2.png")
                                                                    .OverImageUrl("/content/icon/ImageButton/دریافت نرخ ها از وب سرویس.png")
                                                                .DirectEvents(
                                                                    de =>
                                                                    {
                                                                        de.Click.Url = "/NewVer/UpdateRate_New/index";
                                                                        de.Click.ExtraParams.Add(new { containerId = "FinancialInfTab" });
                                                                        de.Click.Before = "if(App.UpdateRate!=null){var tab =App.FinancialInfTab.getComponent('UpdateRate');App.FinancialInfTab.setActiveTab(tab);return false;}Ext.net.Mask.show({ msg : 'در حال بارگذاری...' });";
                                                                        de.Click.Success = "Ext.net.Mask.hide();";
                                                                    }),
                                                            X.ImageButton()
                                                                .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 122))
                                                                    .ImageUrl("/content/icon/ImageButton/تعریف هزینه2.png")
                                                                    .OverImageUrl("/content/icon/ImageButton/تعریف هزینه.png")
                                                                .DirectEvents(
                                                                    de =>
                                                                    {
                                                                        de.Click.Url = "/NewVer/Cost_New/index";
                                                                        de.Click.ExtraParams.Add(new { containerId = "FinancialInfTab" });
                                                                        de.Click.Before = "if(App.Cost!=null){var tab =App.FinancialInfTab.getComponent('Cost');App.FinancialInfTab.setActiveTab(tab);return false;}Ext.net.Mask.show({ msg : 'در حال بارگذاری...' });";
                                                                        de.Click.Success = "Ext.net.Mask.hide();";
                                                                    }),
                                                                         X.ImageButton()
                                                            .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 126))
                                                                    .ImageUrl("/content/icon/ImageButton/تعریف مقدار هزینه2.png")
                                                                    .OverImageUrl("/content/icon/ImageButton/تعریف مقدار هزینه.png")
                                                            .DirectEvents(
                                                                de =>
                                                                {
                                                                    de.Click.Url = "/NewVer/AmountCost_New/index";
                                                                    de.Click.ExtraParams.Add(new { containerId = "FinancialInfTab" });
                                                                    de.Click.Before = "if(App.AmountCost_New!=null){var tab =App.FinancialInfTab.getComponent('AmountCost_New');App.FinancialInfTab.setActiveTab(tab);return false;}Ext.net.Mask.show({ msg : 'در حال بارگذاری...' });";
                                                                    de.Click.Success = "Ext.net.Mask.hide();";
                                                                }),


                                                                     X.ImageButton()
                                                                .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 131))
                                                                    .ImageUrl("/content/icon/ImageButton/تعریف قانون جریمه2.png")
                                                                    .OverImageUrl("/content/icon/ImageButton/تعریف قانون جریمه.png")
                                                                .DirectEvents(
                                                                    de =>
                                                                    {
                                                                        de.Click.Url = "/NewVer/FinesRule_New/index";
                                                                        de.Click.ExtraParams.Add(new { containerId = "FinancialInfTab" });
                                                                        de.Click.Before = "if(App.FinesRule!=null){var tab =App.FinancialInfTab.getComponent('FinesRule');App.FinancialInfTab.setActiveTab(tab);return false;}Ext.net.Mask.show({ msg : 'در حال بارگذاری...' });";
                                                                        de.Click.Success = "Ext.net.Mask.hide();";
                                                                    })
                                                                   ,
                                                                             X.ImageButton()
                                                                    .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 135))
                                                                                .ImageUrl("/content/icon/ImageButton/اعمال قانون جریمه.png")
                                                                                    .OverImageUrl("/content/icon/ImageButton/اعمال قانون جریمه2.png")
                                                                    .DirectEvents(
                                                                        de =>
                                                                        {
                                                                            de.Click.Url = "/NewVer/ImpFine_New/index";
                                                                            de.Click.ExtraParams.Add(new { containerId = "FinancialInfTab" });
                                                                            de.Click.Before = "if(App.ImpFine_New!=null){var tab =App.FinancialInfTab.getComponent('ImpFine_New');App.FinancialInfTab.setActiveTab(tab);return false;}Ext.net.Mask.show({ msg : 'در حال بارگذاری...' });";
                                                                            de.Click.Success = "Ext.net.Mask.hide();";
                                                                        })
                                                                       ,
                                                                   X.ImageButton()
                                                                .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 140))
                                                                    .ImageUrl("/content/icon/ImageButton/تعریف نوع پرداخت.png")
                                                                    .OverImageUrl("/content/icon/ImageButton/تعریف نوع پرداخت2.png")
                                                                .DirectEvents(
                                                                    de =>
                                                                    {
                                                                        de.Click.Url = "/NewVer/SettleType_New/index";
                                                                        de.Click.ExtraParams.Add(new { containerId = "FinancialInfTab" });
                                                                        de.Click.Before = "if(App.SettleType!=null){var tab =App.FinancialInfTab.getComponent('SettleType');App.FinancialInfTab.setActiveTab(tab);return false;}Ext.net.Mask.show({ msg : 'در حال بارگذاری...' });";
                                                                        de.Click.Success = "Ext.net.Mask.hide();";
                                                                    })
                                                                    ,
                                                                         X.ImageButton()
                                                                        .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 144))
                                                                                .ImageUrl("/content/icon/ImageButton/تعریف تخفیف2.png")
                                                                                .OverImageUrl("/content/icon/ImageButton/تعریف تخفیف.png")
                                                                        .DirectEvents(
                                                                            de =>
                                                                            {
                                                                                de.Click.Url = "/NewVer/Discount_New/index";
                                                                                de.Click.ExtraParams.Add(new { containerId = "FinancialInfTab" });
                                                                                de.Click.Before = "if(App.Discount!=null){var tab =App.FinancialInfTab.getComponent('Discount');App.FinancialInfTab.setActiveTab(tab);return false;}Ext.net.Mask.show({ msg : 'در حال بارگذاری...' });";
                                                                                de.Click.Success = "Ext.net.Mask.hide();";
                                                                            }),
                                                                              X.ImageButton()
                                                                    .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 148))
                                                                            .ImageUrl("/content/icon/ImageButton/تعریف نوع مرسوله پستی.png")
                                                                                .OverImageUrl("/content/icon/ImageButton/تعریف نوع مرسوله پستی2.png")
                                                                    .DirectEvents(
                                                                        de =>
                                                                        {
                                                                            de.Click.Url = "/NewVer/SendLetter_New/index";
                                                                            de.Click.ExtraParams.Add(new { containerId = "FinancialInfTab" });
                                                                            de.Click.Before = "if(App.SendLetter!=null){var tab =App.FinancialInfTab.getComponent('SendLetter');App.FinancialInfTab.setActiveTab(tab);return false;}Ext.net.Mask.show({ msg : 'در حال بارگذاری...' });";
                                                                            de.Click.Success = "Ext.net.Mask.hide();";
                                                                        }),
                                                                    X.ImageButton()
                                                                .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 153))
                                                                        .ImageUrl("/content/icon/ImageButton/تعریف شماره حساب.png")
                                                                            .OverImageUrl("/content/icon/ImageButton/تعریف شماره حساب2.png")
                                                                .DirectEvents(
                                                                    de =>
                                                                    {
                                                                        de.Click.Url = "/NewVer/AccountBank_New/index";
                                                                        de.Click.ExtraParams.Add(new { containerId = "FinancialInfTab" });
                                                                        de.Click.Before = "if(App.AccountBank_New!=null){var tab =App.FinancialInfTab.getComponent('AccountBank_New');App.FinancialInfTab.setActiveTab(tab);return false;}Ext.net.Mask.show({ msg : 'در حال بارگذاری...' });";
                                                                        de.Click.Success = "Ext.net.Mask.hide();";
                                                                    }),



                                                                   X.ImageButton()
                                                            .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 157))
                                                                    .ImageUrl("/content/icon/ImageButton/تعریف سمت ها2.png")
                                                                    .OverImageUrl("/content/icon/ImageButton/تعریف سمت ها.png")
                                                            .DirectEvents(
                                                                de =>
                                                                {
                                                                    de.Click.Url = "/NewVer/Post_New/index";
                                                                    de.Click.ExtraParams.Add(new { containerId = "FinancialInfTab" });
                                                                    de.Click.Before = "if(App.Post!=null){var tab =App.FinancialInfTab.getComponent('Post');App.FinancialInfTab.setActiveTab(tab);return false;}Ext.net.Mask.show({ msg : 'در حال بارگذاری...' });";
                                                                    de.Click.Success = "Ext.net.Mask.hide();";
                                                                }),

                                                                          X.ImageButton()
                                                                .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 161))
                                                                        .ImageUrl("/content/icon/ImageButton/تعریف اشخاص صاحب امضا2.png")
                                                                        .OverImageUrl("/content/icon/ImageButton/تعریف اشخاص صاحب امضا.png")
                                                                .DirectEvents(
                                                                    de =>
                                                                    {
                                                                        de.Click.Url = "/NewVer/Signer_New/index";
                                                                        de.Click.ExtraParams.Add(new { containerId = "FinancialInfTab" });
                                                                        de.Click.Before = "if(App.Signer_New!=null){var tab =App.FinancialInfTab.getComponent('Signer_New');App.FinancialInfTab.setActiveTab(tab);return false;}Ext.net.Mask.show({ msg : 'در حال بارگذاری...' });";
                                                                        de.Click.Success = "Ext.net.Mask.hide();";
                                                                    }),

                                                                      X.ImageButton()
                                                                .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 165))
                                                                        .ImageUrl("/content/icon/ImageButton/تعریف اطلاعات پرداخت آنلاین.png")
                                                                            .OverImageUrl("/content/icon/ImageButton/تعریف اطلاعات پرداخت آنلاین2.png")
                                                                .DirectEvents(
                                                                    de =>
                                                                    {
                                                                        de.Click.Url = "/NewVer/BankInf_New/index";
                                                                        de.Click.ExtraParams.Add(new { containerId = "FinancialInfTab" });
                                                                        de.Click.Before = "if(App.BankInf!=null){var tab =App.FinancialInfTab.getComponent('BankInf');App.FinancialInfTab.setActiveTab(tab);return false;}Ext.net.Mask.show({ msg : 'در حال بارگذاری...' });";
                                                                        de.Click.Success = "Ext.net.Mask.hide();";
                                                                    }),
                                                                         X.ImageButton()
                                                                            .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 354))
                                                                                .ImageUrl("/content/icon/ImageButton/مقایسه درآمد1.png")
                                                                                .OverImageUrl("/content/icon/ImageButton/مقایسه درآمد.png")
                                                                            .DirectEvents(
                                                                                de =>
                                                                                {
                                                                                    de.Click.Url = "/NewVer/BudjetByMonth_New/index";
                                                                                    de.Click.ExtraParams.Add(new { containerId = "FinancialInfTab" });
                                                                                    de.Click.Before = "if(App.BudgetByMonth_New!=null){var tab =App.FinancialInfTab.getComponent('BudgetByMonth_New');App.FinancialInfTab.setActiveTab(tab);return false;}Ext.net.Mask.show({ msg : 'در حال بارگذاری...' });";
                                                                                    de.Click.Success = "Ext.net.Mask.hide();";
                                                                                })


                                                            )))
                                                        )
                                                    )
                                                )
                                            )
                                        ),
                                        Html.X().DesktopModule()
        .ModuleID("create-Config")
        .Shortcut(
            Html.X().DesktopShortcut()
                .Name("پیکر بندی سیستم")
                    .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 168))
        //.Hidden(!servic.Permission(7, Session["Username"].ToString(), Session["Password"].ToString(), out Err))
                        .IconCls("shortcut_Config")
                .SortIndex(2)
        )
        .Launcher(
            Html.X().MenuItem()
                    .Text("پیکر بندی سیستم")
                    .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 168))
        //.Hidden(!servic.Permission(7, Session["Username"].ToString(), Session["Password"].ToString(), out Err))
                                .IconCls("shortcut_Config")
        )
        .Window(
            Html.X().Window()
                .RTL(true)
                .AutoScroll(true)
                    .Title("پیکر بندی سیستم")
                .Icon(Ext.Net.Icon.User)
                .BodyStyle("background-color:rergb(244, 247, 249;")
                .CloseAction(Ext.Net.CloseAction.Destroy)
                .Layout(Ext.Net.LayoutType.Fit)
                .Maximized(true)
                .Height(600)
                    .ID("ConfigWin")
                .Items(
                X.Panel().Split(true)
                .Border(false)
                .Layout(LayoutType.Fit)
                .Items(
                    Html.X().TabPanel()
                        .Layout(LayoutType.Fit)
                        .Border(false)
                        .Items(
                                X.Panel().Split(true)
                                    .Title("پیکر بندی سیستم")
                                .Layout(LayoutType.Fit)
                                .Border(false)
                                .TabMenu(m => m.Add(X.Menu().Items(
                                      X.MenuItem().Text("سفارشی سازی گزارشات").DirectClickUrl("/NewVer/ReportType_New/index?containerId=ConfigTab").IconCls("ReportType_New")
                                      .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 170))
                                     , X.MenuItem().Text("تنظیمات اصلی").DirectClickUrl("/NewVer/MainSetting_New/index?containerId=ConfigTab").IconCls("MainSetting")
                                     .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 177))
                                      , X.MenuItem().Text("تنظیمات فرعی").DirectClickUrl("/NewVer/SubSetting_New/index?containerId=ConfigTab").IconCls("SubSetting")
                                      .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 181))
                                     , X.MenuItem().Text("تعریف تعیین درجه شهرداری").DirectClickUrl("/NewVer/DegreeMun_New/index?containerId=ConfigTab").IconCls("DegreeMun")
                                     .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 185))
                                      , X.MenuItem().Text("تعریف سازمان").DirectClickUrl("/NewVer/Organization_New/index?containerId=ConfigTab").IconCls("Organization")
                                      .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 190))
                                    , X.MenuItem().Text("الگوی شماره دهی").DirectClickUrl("/NewVer/Pattern_New/index?containerId=ConfigTab").IconCls("Pattern")
                                    .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 294))
                                       , X.MenuItem().Text(" تعیین تصاویر").DirectClickUrl("/NewVer/PicMun_New/index?containerId=ConfigTab").IconCls("PicMun_New")
                                         .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 195))
                                    , X.MenuItem().Text(" تعیین اخبار").DirectClickUrl("/NewVer/News_New/index?containerId=ConfigTab").IconCls("News_New")
                                            .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 199))
                                    , X.MenuItem().Text("تنظیمات پنل پیامک").DirectClickUrl("/NewVer/SmsSetting_New/index?containerId=ConfigTab").IconCls("SmsSetting")
                                    .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 204))
                                    , X.MenuItem().Text("تنظیمات ارسال پیامک").DirectClickUrl("/NewVer/SmsSending_New/index?containerId=ConfigTab").IconCls("SmsSending")
                                    .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 208))
                                    , X.MenuItem().Text("تعیین بانک").DirectClickUrl("/NewVer/PcPosInfo_New/index?containerId=ConfigTab").IconCls("PcPosInfo")
                                    .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 327))
                                    , X.MenuItem().Text("کاربران PcPos").DirectClickUrl("/NewVer/PcPosUser_New/index?containerId=ConfigTab").IconCls("PcPosUser")
                                    .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 331))
                                    , X.MenuItem().Text("پارامتر PcPos").DirectClickUrl("/NewVer/PcPosParametr_New/index?containerId=ConfigTab").IconCls("PcPosParametr")
                                    .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 335))
                                    , X.MenuItem().Text("مقدار دهی پارامتر PcPos").DirectClickUrl("/NewVer/PcPosParam_Detail_New/index?containerId=ConfigTab").IconCls("PcPosParam_Detail")
                                    .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 339))
                                    , X.MenuItem().Text("ارسال پیامک بدهی").DirectClickUrl("/NewVer/SendSms/index").IconCls("PishkhanService")
                                        .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 423))
                                        , X.MenuItem().Text("ثبت سرویس پیشخوان").DirectClickUrl("/NewVer/PishkhanService/index?containerId=ConfigTab").IconCls("PishkhanService")
                                    .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 418))

                            )))
                                .Items(
                                    Html.X().TabPanel()
                                        .Border(false)
                                        .Layout(LayoutType.Fit)
                                            .ID("ConfigTab")
                                        .ManageHeight(true)
                                        .Items(
                                                X.Panel().Split(true)
                                                .Title("میزکار")
                                                .Border(false)
                                                .AutoScroll(true)
                                                .Margins("30 0 0 0")
                                                .Height(550)
                                                .LayoutConfig(new Ext.Net.HBoxLayoutConfig { Align = Ext.Net.HBoxAlign.StretchMax, Pack = Ext.Net.BoxPack.Center })
                                                .Items(
                                                    X.Container()
                                                        .Region(Ext.Net.Region.Center)
                                                        .Layout(Ext.Net.LayoutType.Table)
                                                        .Center()
                                                        .LayoutConfig(new Ext.Net.TableLayoutConfig { Columns = 7 })
                                                        .Defaults(new { Width = 110, Height = 110 })
                                                        .Items(
                                                        X.ImageButton()
                                                                    .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 170))
                                                                                .ImageUrl("/content/icon/ImageButton/سفارشی سازی گزارشات2.png")
                                                                                  .OverImageUrl("/content/icon/ImageButton/سفارشی سازی گزارشات.png")
                                                                    .DirectEvents(
                                                                        de =>
                                                                        {
                                                                            de.Click.Url = "/NewVer/ReportType_New/index";
                                                                            de.Click.ExtraParams.Add(new { containerId = "ConfigTab" });
                                                                            de.Click.Before = "if(App.ReportType!=null){var tab =App.ConfigTab.getComponent('ReportType');App.ConfigTab.setActiveTab(tab);return false;}Ext.net.Mask.show({ msg : 'در حال بارگذاری...' });";
                                                                            de.Click.Success = "Ext.net.Mask.hide();";
                                                                        })
                                                                         , X.ImageButton()
                                                                        .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 177))
                                                                                        .ImageUrl("/content/icon/ImageButton/تنظیمات اصلی2.png")
                                                                                        .OverImageUrl("/content/icon/ImageButton/تنظیمات اصلی.png")
                                                                        .DirectEvents(
                                                                            de =>
                                                                            {
                                                                                de.Click.Url = "/NewVer/MainSetting_New/index";
                                                                                de.Click.ExtraParams.Add(new { containerId = "ConfigTab" });
                                                                                de.Click.Before = "if(App.MainSetting!=null){var tab =App.ConfigTab.getComponent('MainSetting');App.ConfigTab.setActiveTab(tab);return false;}Ext.net.Mask.show({ msg : 'در حال بارگذاری...' });";
                                                                                de.Click.Success = "Ext.net.Mask.hide();";
                                                                            }),
                                                                              X.ImageButton()
                                                                        .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 181))
                                                                                    .ImageUrl("/content/icon/ImageButton/تنظیمات فرعی.png")
                                                                                    .OverImageUrl("/content/icon/ImageButton/تنظیمات فرعی2.png")
                                                                        .DirectEvents(
                                                                            de =>
                                                                            {
                                                                                de.Click.Url = "/NewVer/SubSetting_New/index";
                                                                                de.Click.ExtraParams.Add(new { containerId = "ConfigTab" });
                                                                                de.Click.Before = "if(App.SubSetting_New!=null){var tab =App.ConfigTab.getComponent('SubSetting_New');App.ConfigTab.setActiveTab(tab);return false;}Ext.net.Mask.show({ msg : 'در حال بارگذاری...' });";
                                                                                de.Click.Success = "Ext.net.Mask.hide();";
                                                                            })
                                                                             , X.ImageButton()
                                                                    .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 185))
                                                                                .ImageUrl("/content/icon/ImageButton/تعیین درجه شهرداری.png")
                                                                                .OverImageUrl("/content/icon/ImageButton/تعیین درجه شهرداری2.png")
                                                                    .DirectEvents(
                                                                        de =>
                                                                        {
                                                                            de.Click.Url = "/NewVer/DegreeMun_New/index";
                                                                            de.Click.ExtraParams.Add(new { containerId = "ConfigTab" });
                                                                            de.Click.Before = "if(App.DegreeMun!=null){var tab =App.ConfigTab.getComponent('DegreeMun');App.ConfigTab.setActiveTab(tab);return false;}Ext.net.Mask.show({ msg : 'در حال بارگذاری...' });";
                                                                            de.Click.Success = "Ext.net.Mask.hide();";
                                                                        }),

                                                        X.ImageButton()
                                                                .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 190))
                                                                        .ImageUrl("/content/icon/ImageButton/تعریف سازمان2.png")
                                                                          .OverImageUrl("/content/icon/ImageButton/تعریف سازمان.png")
                                                                .DirectEvents(
                                                                    de =>
                                                                    {
                                                                        de.Click.Url = "/NewVer/Organization_New/index";
                                                                        de.Click.ExtraParams.Add(new { containerId = "ConfigTab" });
                                                                        de.Click.Before = "if(App.Organization!=null){var tab =App.ConfigTab.getComponent('Organization');App.ConfigTab.setActiveTab(tab);return false;}Ext.net.Mask.show({ msg : 'در حال بارگذاری...' });";
                                                                        de.Click.Success = "Ext.net.Mask.hide();";
                                                                    })
                                                                     , X.ImageButton()
                                                                        .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 294))
                                                                            .ImageUrl("/content/icon/ImageButton/الگوی شماره دهی.png")
                                                                              .OverImageUrl("/content/icon/ImageButton/الگوی شماره دهی2.png")
                                                                    .DirectEvents(
                                                                        de =>
                                                                        {
                                                                            de.Click.Url = "/NewVer/Pattern_New/index";
                                                                            de.Click.ExtraParams.Add(new { containerId = "ConfigTab" });
                                                                            de.Click.Before = "if(App.Pattern!=null){var tab =App.ConfigTab.getComponent('Pattern');App.ConfigTab.setActiveTab(tab);return false;}Ext.net.Mask.show({ msg : 'در حال بارگذاری...' });";
                                                                            de.Click.Success = "Ext.net.Mask.hide();";
                                                                        })
                                                                               , X.ImageButton()
                                                                        .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 195))
                                                                            .ImageUrl("/content/icon/ImageButton/تعیین تصاویر2.png")
                                                                              .OverImageUrl("/content/icon/ImageButton/تعیین تصاویر.png")
                                                                    .DirectEvents(
                                                                        de =>
                                                                        {
                                                                            de.Click.Url = "/NewVer/PicMun_New/index";
                                                                            de.Click.ExtraParams.Add(new { containerId = "ConfigTab" });
                                                                            de.Click.Before = "if(App.PicMun!=null){var tab =App.ConfigTab.getComponent('PicMun');App.ConfigTab.setActiveTab(tab);return false;}Ext.net.Mask.show({ msg : 'در حال بارگذاری...' });";
                                                                            de.Click.Success = "Ext.net.Mask.hide();";
                                                                        })
                                                                        , X.ImageButton()
                                                                            .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 199))
                                                                            .ImageUrl("/content/icon/ImageButton/تعیین اخبار.png")
                                                                              .OverImageUrl("/content/icon/ImageButton/تعیین اخبار2.png")
                                                                    .DirectEvents(
                                                                        de =>
                                                                        {
                                                                            de.Click.Url = "/NewVer/News_New/index";
                                                                            de.Click.ExtraParams.Add(new { containerId = "ConfigTab" });
                                                                            de.Click.Before = "if(App.News!=null){var tab =App.ConfigTab.getComponent('News');App.ConfigTab.setActiveTab(tab);return false;}Ext.net.Mask.show({ msg : 'در حال بارگذاری...' });";
                                                                            de.Click.Success = "Ext.net.Mask.hide();";
                                                                        }),
                                                                          X.ImageButton()
                                                                        .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 204))
                                                                                            .ImageUrl("/content/icon/ImageButton/تنظیمات پنل پیامک2.png")
                                                                                        .OverImageUrl("/content/icon/ImageButton/تنظیمات پنل پیامک.png")
                                                                        .DirectEvents(
                                                                            de =>
                                                                            {
                                                                                de.Click.Url = "/NewVer/SmsSetting_New/index";
                                                                                de.Click.ExtraParams.Add(new { containerId = "ConfigTab" });
                                                                                de.Click.Before = "if(App.SmsSetting_New!=null){var tab =App.ConfigTab.getComponent('SmsSetting_New');App.ConfigTab.setActiveTab(tab);return false;}Ext.net.Mask.show({ msg : 'در حال بارگذاری...' });";
                                                                                de.Click.Success = "Ext.net.Mask.hide();";
                                                                            })

                                                                        ,
                                                                            X.ImageButton()
                                                                            .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 208))
                                                                                                    .ImageUrl("/content/icon/ImageButton/تنظیمات ارسال پیامک.png")
                                                                                                .OverImageUrl("/content/icon/ImageButton/تنظیمات ارسال پیامک2.png")
                                                                            .DirectEvents(
                                                                                de =>
                                                                                {
                                                                                    de.Click.Url = "/NewVer/SmsSending_New/index";
                                                                                    de.Click.ExtraParams.Add(new { containerId = "ConfigTab" });
                                                                                    de.Click.Before = "if(App.SmsSending_New!=null){var tab =App.ConfigTab.getComponent('SmsSending_New');App.ConfigTab.setActiveTab(tab);return false;}Ext.net.Mask.show({ msg : 'در حال بارگذاری...' });";
                                                                                    de.Click.Success = "Ext.net.Mask.hide();";
                                                                                })

                                                                            ,

                                                                         X.ImageButton()
                                                                    .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 327))
                                                                                .ImageUrl("/content/icon/ImageButton/تعیین بانک2.png")
                                                                                  .OverImageUrl("/content/icon/ImageButton/تعیین بانک.png")
                                                                    .DirectEvents(
                                                                        de =>
                                                                        {
                                                                            de.Click.Url = "/NewVer/PcPosInfo_New/Index";
                                                                            de.Click.ExtraParams.Add(new { containerId = "ConfigTab" });
                                                                            de.Click.Before = "if(App.PcPosInfo!=null){var tab =App.ConfigTab.getComponent('PcPosInfo');App.ConfigTab.setActiveTab(tab);return false;}Ext.net.Mask.show({ msg : 'در حال بارگذاری...' });";
                                                                            de.Click.Success = "Ext.net.Mask.hide();";
                                                                        })
                                                                            ,
                                                                              X.ImageButton()
                                                                        .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 331))
                                                                                .ImageUrl("/content/icon/ImageButton/تعریف کاربران pcpos.png")
                                                                                  .OverImageUrl("/content/icon/ImageButton/تعریف کاربران2 pcpos.png")
                                                                    .DirectEvents(
                                                                        de =>
                                                                        {
                                                                            de.Click.Url = "/NewVer/PcPosUser_New/index";
                                                                            de.Click.ExtraParams.Add(new { containerId = "ConfigTab" });
                                                                            de.Click.Before = "if(App.PcPosUser!=null){var tab =App.ConfigTab.getComponent('PcPosUser');App.ConfigTab.setActiveTab(tab);return false;}Ext.net.Mask.show({ msg : 'در حال بارگذاری...' });";
                                                                            de.Click.Success = "Ext.net.Mask.hide();";
                                                                        }),


                                                                     X.ImageButton()
                                                                .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 335))
                                                                                .ImageUrl("/content/icon/ImageButton/پارامترهای2 pcpos.png")
                                                                                  .OverImageUrl("/content/icon/ImageButton/پارامترهای pcpos.png")
                                                                .DirectEvents(
                                                                    de =>
                                                                    {
                                                                        de.Click.Url = "/NewVer/PcPosParametr_New/index";
                                                                        de.Click.ExtraParams.Add(new { containerId = "ConfigTab" });
                                                                        de.Click.Before = "if(App.PcPosParametr!=null){var tab =App.ConfigTab.getComponent('PcPosParametr');App.ConfigTab.setActiveTab(tab);return false;}Ext.net.Mask.show({ msg : 'در حال بارگذاری...' });";
                                                                        de.Click.Success = "Ext.net.Mask.hide();";
                                                                    }),

                                                                X.ImageButton()
                                                                .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 339))
                                                                            .ImageUrl("/content/icon/ImageButton/مقداردهی پارامترهای pcpos.png")
                                                                              .OverImageUrl("/content/icon/ImageButton/مقداردهی پارامترهای2 pcpos.png")
                                                                .DirectEvents(
                                                                    de =>
                                                                    {
                                                                        de.Click.Url = "/NewVer/PcPosParam_Detail_New/index";
                                                                        de.Click.ExtraParams.Add(new { containerId = "ConfigTab" });
                                                                        de.Click.Before = "if(App.PcPosParam!=null){var tab =App.ConfigTab.getComponent('PcPosParam');App.ConfigTab.setActiveTab(tab);return false;}Ext.net.Mask.show({ msg : 'در حال بارگذاری...' });";
                                                                        de.Click.Success = "Ext.net.Mask.hide();";
                                                                    })
                                                                    ,
                                                                X.ImageButton()
                                                                    .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 423))
                                                                    .ImageUrl("/content/icon/ImageButton/ارسال پیامک بدهی2.png")
                                                                    .OverImageUrl("/content/icon/ImageButton/ارسال پیامک بدهی.png")
                                                                    .DirectEvents(
                                                                        de =>
                                                                        {
                                                                            de.Click.Url = "/NewVer/SendSms/index";
                                                                            de.Click.ExtraParams.Add(new { containerId = "ConfigTab" });
                                                                            de.Click.Before = "if(App.SendSms!=null){var tab =App.ConfigTab.getComponent('SendSms');App.ConfigTab.setActiveTab(tab);return false;}Ext.net.Mask.show({ msg : 'در حال بارگذاری...' });";
                                                                            de.Click.Success = "Ext.net.Mask.hide();";
                                                                        }),
                                                                X.ImageButton()
                                                                    .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 418))
                                                                    .ImageUrl("/content/icon/ImageButton/ثبت سرویس پیشخوان.png")
                                                                    .OverImageUrl("/content/icon/ImageButton/ثبت سرویس پیشخوان2.png")
                                                                    .DirectEvents(
                                                                        de =>
                                                                        {
                                                                            de.Click.Url = "/NewVer/PishkhanService/index";
                                                                            de.Click.ExtraParams.Add(new { containerId = "ConfigTab" });
                                                                            de.Click.Before = "if(App.Pishkhanservice!=null){var tab =App.ConfigTab.getComponent('Pishkhanservice');App.ConfigTab.setActiveTab(tab);return false;}Ext.net.Mask.show({ msg : 'در حال بارگذاری...' });";
                                                                            de.Click.Success = "Ext.net.Mask.hide();";
                                                                        })

)))
                                                        )
                                                    )
                                                )
                                            )
                                            ),
                  Html.X().DesktopModule()
            .ModuleID("create-AppReport")
            .Shortcut(
                Html.X().DesktopShortcut()
                        .Name("گزارشات کاربردی")
                        .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 223))
        //.Hidden(!servic.Permission(7, Session["Username"].ToString(), Session["Password"].ToString(), out Err))
                                .IconCls("shortcut_AppReport")
                    .SortIndex(4)
            )
            .Launcher(
                Html.X().MenuItem()
                                .Text("گزارشات کاربردی")
                        .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 223))
        //.Hidden(!servic.Permission(7, Session["Username"].ToString(), Session["Password"].ToString(), out Err))
                                        .IconCls("shortcut_AppReport")
            )
            .Window(
                Html.X().Window()
                    .RTL(true)
                    .AutoScroll(true)
                                .Title("گزارشات کاربردی")
                    .Icon(Ext.Net.Icon.User)
                    .BodyStyle("background-color:rergb(244, 247, 249;")
                    .CloseAction(Ext.Net.CloseAction.Destroy)
                    .Layout(Ext.Net.LayoutType.Fit)
                    .Maximized(true)
                    .Height(600)
                            .ID("AppReport")
                    .Items(
                    X.Panel().Split(true)
                    .Border(false)
                    .Layout(LayoutType.Fit)
                    .Items(
                        Html.X().TabPanel()
                            .Layout(LayoutType.Fit)
                            .Border(false)
                            .Items(
                                    X.Panel().Split(true)
                                            .Title("گزارشات کاربردی")
                                    .Layout(LayoutType.Fit)
                                    .Border(false)
                                    .TabMenu(m => m.Add(X.Menu().Items(
                                                    X.MenuItem().Text("سریال پلاک").DirectClickUrl("/NewVer/AppReport_New/PrintPlaqueSerial?containerId=AppReportTab").IconCls("RptPlaqueSerial")
                                                    .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 250))
                                                    , X.MenuItem().Text("رنگ خودرو").DirectClickUrl("/NewVer/AppReport_New/PrintColorCar?containerId=AppReportTab").IconCls("RptColorCar")
                                                    .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 251)),
                                                    X.MenuItem().Text("کاربر تعریف شده").DirectClickUrl("/NewVer/AppReport_New/FromUser?containerId=AppReportTab").IconCls("RptUser")
                                                    .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 252)),
                                                    X.MenuItem().Text("سیستم خودرو").DirectClickUrl("/NewVer/AppReport_New/PrintCarSystem?containerId=AppReportTab").IconCls("RptCarSystem")
                                                    .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 253))
                                                    , X.MenuItem().Text("سیستم کامل خودرو").DirectClickUrl("/NewVer/AppReport_New/PrintCarSystemCom?containerId=AppReportTab").IconCls("RptCarSystemCom")
                                                    .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 355))
                                                    , X.MenuItem().Text("سازمان ها").DirectClickUrl("/NewVer/AppReport_New/PrintOrganization?containerId=AppReportTab").IconCls("RptOrganization")
                                                    .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 356))
                                                    , X.MenuItem().Text("هزینه ها").DirectClickUrl("/NewVer/AppReport_New/PrintCost?containerId=AppReportTab").IconCls("RptCost")
                                                    .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 357))
                                                    , X.MenuItem().Text("انواع پلاک").DirectClickUrl("/NewVer/AppReport_New/PrintPlaqueType?containerId=AppReportTab").IconCls("RptPlaqueType")
                                                    .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 358))
                                                    , X.MenuItem().Text("انواع وضعیت پلاک").DirectClickUrl("/NewVer/AppReport_New/PrintStatusPlaque?containerId=AppReportTab").IconCls("RptStatusPlaque")
                                                    .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 359))
                                                    , X.MenuItem().Text("فیش های صادر شده و پرداخت شده").DirectClickUrl("/NewVer/AppReport_New/FromDateToDate?containerId=AppReportTab").IconCls("RptPaid")
                                                    .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 298))
                                                    , X.MenuItem().Text("فیش های صادر شده و پرداخت نشده").DirectClickUrl("/NewVer/AppReport_New/FromDateToDate_NotPaid?containerId=AppReportTab").IconCls("RptNotPaid")
                                                    .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 299))
                                                    , X.MenuItem().Text("پرونده های خودرو").DirectClickUrl("/NewVer/AppReport_New/PrintCarFile?containerId=AppReportTab").IconCls("RptCarFile")
                                                    .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 360))
                                                    , X.MenuItem().Text("مالکان خودرو").DirectClickUrl("/NewVer/AppReport_New/PrintOwner?containerId=AppReportTab").IconCls("RptOwner")
                                                    .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 361))
                                                    , X.MenuItem().Text("کاراکترهای مجاز پلاک ملی").DirectClickUrl("/NewVer/AppReport_New/PrintCharacterPersianPlaque?containerId=AppReportTab").IconCls("RptCharacterPersianPlaque")
                                                    .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 362))
                                                    , X.MenuItem().Text("شماره پلاک ها").DirectClickUrl("/NewVer/AppReport_New/PrintCarPlaque?containerId=AppReportTab").IconCls("RptCarPlaque")
                                                    .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 363))
                                                    , X.MenuItem().Text("نرخ عوارض سالیانه").DirectClickUrl("/NewVer/AppReport_New/FromYear_Nerkh?containerId=AppReportTab").IconCls("RptComplicationsRate")
                                                    .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 364))
                                                    , X.MenuItem().Text("جدول وصول").DirectClickUrl("/NewVer/AppReport_New/Collection?containerId=AppReportTab").IconCls("RptCollection")
                                                    .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 297))
                                                    , X.MenuItem().Text("فیش وصولی به تفکیک کاربران").DirectClickUrl("/NewVer/AppReport_New/FromYear?containerId=AppReportTab").IconCls("RptuserCount")
                                                    .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 388))
                                                    , X.MenuItem().Text("فیش وصولی به تفکیک کاربران(بازه زمانی)").DirectClickUrl("/NewVer/AppReport_New/UserCount_Date?containerId=AppReportTab").IconCls("RptuserCount_Date")
                                                    .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 389))
                                                        , X.MenuItem().Text("تاریخچه پرداخت").DirectClickUrl("/NewVer/AppReport_New/FromDate?containerId=AppReportTab&&State=1").IconCls("RptCollectionLog")
                                                    .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 325))
                                        , X.MenuItem().Text("پرونده های اسکن شده").IconCls("scan").DirectClickUrl("/NewVer/AppReport_New/FromDateToDateScan?containerId=AppReportTab").IconCls("RptCollectionLog")
                                        .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 409))
                                        , X.MenuItem().Text("تعداد مفاصاهای صادر شده در روز").DirectClickUrl("/NewVer/AppReport_New/INDate?containerId=AppReportTab").IconCls("RptCountMafasa")
                                        .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 404))
                                        , X.MenuItem().Text("تاریخچه ویرایش پرونده").DirectClickUrl("/NewVer/AppReport_New/RptLogCarFile?containerId=AppReportTab").IconCls("RptLogCarFile")
                                        .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 405))
                                            , X.MenuItem().Text("انتقال سوابق ثبت شده در روز").DirectClickUrl("/NewVer/AppReport_New/RptCarExperience_File?containerId=AppReportTab").IconCls("RptCarExperience_File")
                                        .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 406))
                                                , X.MenuItem().Text("پیگیری تراکنش ناموفق بانک سامان").DirectClickUrl("/NewVer/AppReport_New/GetInfoTrn").IconCls("samanTrn")
                                            .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 412))
                                         , X.MenuItem().Text("گزارش وصول").DirectClickUrl("/NewVer/AppReport_New/FromDate?containerId=AppReportTab&&State=2").IconCls("RptCollectionLog")
                                        .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 417))
                                                    , X.MenuItem().Text("پیگیری پرداخت های شهرداری").DirectClickUrl("/NewVer/AppReport_New/UnsuccessfulPayments?CarFileId=0").IconCls("pishkhanpos")
                                            .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 422))
                                                , X.MenuItem().Text("پیگیری رسیدهای پیشخوان").DirectClickUrl("/NewVer/AppReport_New/UnsuccessfulReciept?CarFileId=0").IconCls("pishkhanReciept")
                                            .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 424))


                                            )))
                                    .Items(
                                        Html.X().TabPanel()
                                            .Border(false)
                                            .Layout(LayoutType.Fit)
                                                    .ID("AppReportTab")
                                            .ManageHeight(true)
                                            .Items(
                                                    X.Panel().Split(true)
                                                    .Title("میزکار")
                                                    .Border(false)
                                                    .AutoScroll(true)
                                                    .Margins("30 0 0 0")
                                                    .Height(550)
                                                    .LayoutConfig(new Ext.Net.HBoxLayoutConfig { Align = Ext.Net.HBoxAlign.StretchMax, Pack = Ext.Net.BoxPack.Center })
                                                    .Items(
                                                        X.Container()
                                                            .Region(Ext.Net.Region.Center)
                                                            .Layout(Ext.Net.LayoutType.Table)
                                                            .Center()
                                                            .LayoutConfig(new Ext.Net.TableLayoutConfig { Columns = 7 })
                                                            .Defaults(new { Width = 110, Height = 110 })
                                                            .Items(
                                                            X.ImageButton()
                                                                    .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 250))
                                                                                .ImageUrl("/content/icon/ImageButton/سریال پلاک ها2.png")
                                                                                  .OverImageUrl("/content/icon/ImageButton/سریال پلاک ها.png")
                                                                    .DirectEvents(
                                                                        de =>
                                                                        {
                                                                            de.Click.Url = "/NewVer/AppReport_New/PrintPlaqueSerial";
                                                                            de.Click.ExtraParams.Add(new { containerId = "AppReportTab" });
                                                                            de.Click.Before = "if(App.PrintPlaqueSerial!=null){var tab =App.AppReportTab.getComponent('PrintPlaqueSerial');App.AppReportTab.setActiveTab(tab);return false;}Ext.net.Mask.show({ msg : 'در حال بارگذاری...' });";
                                                                            de.Click.Success = "Ext.net.Mask.hide();";
                                                                        }),
                                                                        X.ImageButton()
                                                                    .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 251))
                                                                                .ImageUrl("/content/icon/ImageButton/رنگ های خودرو.png")
                                                                                  .OverImageUrl("/content/icon/ImageButton/رنگ های خودرو2.png")
                                                                    .DirectEvents(
                                                                        de =>
                                                                        {
                                                                            de.Click.Url = "/NewVer/AppReport_New/PrintColorCar";
                                                                            de.Click.ExtraParams.Add(new { containerId = "AppReportTab" });
                                                                            de.Click.Before = "if(App.PrintColorCar!=null){var tab =App.AppReportTab.getComponent('PrintColorCar');App.AppReportTab.setActiveTab(tab);return false;}Ext.net.Mask.show({ msg : 'در حال بارگذاری...' });";
                                                                            de.Click.Success = "Ext.net.Mask.hide();";
                                                                        }),
                                                                               X.ImageButton()
                                                                        .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 252))
                                                                                        .ImageUrl("/content/icon/ImageButton/کاربرهای تعریف شده2.png")
                                                                                          .OverImageUrl("/content/icon/ImageButton/کاربرهای تعریف شده.png")
                                                                        .DirectEvents(
                                                                            de =>
                                                                            {
                                                                                de.Click.Url = "/NewVer/AppReport_New/FromUser";
                                                                                de.Click.ExtraParams.Add(new { containerId = "AppReportTab" });
                                                                                de.Click.Before = "if(App.FromUser!=null){var tab =App.AppReportTab.getComponent('FromUser');App.AppReportTab.setActiveTab(tab);return false;}Ext.net.Mask.show({ msg : 'در حال بارگذاری...' });";
                                                                                de.Click.Success = "Ext.net.Mask.hide();";
                                                                            }),
                                                                        X.ImageButton()
                                                                    .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 253))
                                                                                        .ImageUrl("/content/icon/ImageButton/سیستم های خودرو2.png")
                                                                                      .OverImageUrl("/content/icon/ImageButton/سیستم های خودرو.png")
                                                                    .DirectEvents(
                                                                        de =>
                                                                        {
                                                                            de.Click.Url = "/NewVer/AppReport_New/PrintCarSystem";
                                                                            de.Click.ExtraParams.Add(new { containerId = "AppReportTab" });
                                                                            de.Click.Before = "if(App.PrintCarSystem!=null){var tab =App.AppReportTab.getComponent('PrintCarSystem');App.AppReportTab.setActiveTab(tab);return false;}Ext.net.Mask.show({ msg : 'در حال بارگذاری...' });";
                                                                            de.Click.Success = "Ext.net.Mask.hide();";
                                                                        }),

                                                                        X.ImageButton()
                                                                    .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 355))
                                                                                        .ImageUrl("/content/icon/ImageButton/سیستم های کامل خودرو2.png")
                                                                                      .OverImageUrl("/content/icon/ImageButton/سیستم های کامل خودرو.png")
                                                                    .DirectEvents(
                                                                        de =>
                                                                        {
                                                                            de.Click.Url = "/NewVer/AppReport_New/PrintCarSystemCom";
                                                                            de.Click.ExtraParams.Add(new { containerId = "AppReportTab" });
                                                                            de.Click.Before = "if(App.PrintCarSystemCom!=null){var tab =App.AppReportTab.getComponent('PrintCarSystemCom');App.AppReportTab.setActiveTab(tab);return false;}Ext.net.Mask.show({ msg : 'در حال بارگذاری...' });";
                                                                            de.Click.Success = "Ext.net.Mask.hide();";
                                                                        }),


                                                                        X.ImageButton()
                                                                    .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 356))
                                                                                .ImageUrl("/content/icon/ImageButton/سازمان ها.png")
                                                                                  .OverImageUrl("/content/icon/ImageButton/سازمان ها2.png")
                                                                    .DirectEvents(
                                                                        de =>
                                                                        {
                                                                            de.Click.Url = "/NewVer/AppReport_New/PrintOrganization";
                                                                            de.Click.ExtraParams.Add(new { containerId = "AppReportTab" });
                                                                            de.Click.Before = "if(App.PrintOrganization!=null){var tab =App.AppReportTab.getComponent('PrintOrganization');App.AppReportTab.setActiveTab(tab);return false;}Ext.net.Mask.show({ msg : 'در حال بارگذاری...' });";
                                                                            de.Click.Success = "Ext.net.Mask.hide();";
                                                                        }),
                                                                        X.ImageButton()
                                                                    .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 357))
                                                                                .ImageUrl("/content/icon/ImageButton/هزینه ها2.png")
                                                                                  .OverImageUrl("/content/icon/ImageButton/هزینه ها.png")
                                                                    .DirectEvents(
                                                                        de =>
                                                                        {
                                                                            de.Click.Url = "/NewVer/AppReport_New/PrintCost";
                                                                            de.Click.ExtraParams.Add(new { containerId = "AppReportTab" });
                                                                            de.Click.Before = "if(App.PrintCost!=null){var tab =App.AppReportTab.getComponent('PrintCost');App.AppReportTab.setActiveTab(tab);return false;}Ext.net.Mask.show({ msg : 'در حال بارگذاری...' });";
                                                                            de.Click.Success = "Ext.net.Mask.hide();";
                                                                        }),
                                                                        X.ImageButton()
                                                                    .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 358))
                                                                                .ImageUrl("/content/icon/ImageButton/انواع پلاکها2.png")
                                                                                  .OverImageUrl("/content/icon/ImageButton/انواع پلاکها.png")
                                                                    .DirectEvents(
                                                                        de =>
                                                                        {
                                                                            de.Click.Url = "/NewVer/AppReport_New/PrintPlaqueType";
                                                                            de.Click.ExtraParams.Add(new { containerId = "AppReportTab" });
                                                                            de.Click.Before = "if(App.PrintPlaqueType!=null){var tab =App.AppReportTab.getComponent('PrintPlaqueType');App.AppReportTab.setActiveTab(tab);return false;}Ext.net.Mask.show({ msg : 'در حال بارگذاری...' });";
                                                                            de.Click.Success = "Ext.net.Mask.hide();";
                                                                        }),
                                                                        X.ImageButton()
                                                                    .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 359))
                                                                                    .ImageUrl("/content/icon/ImageButton/انواع وضعیت پلاکها2.png")
                                                                                  .OverImageUrl("/content/icon/ImageButton/انواع وضعیت پلاکها.png")
                                                                    .DirectEvents(
                                                                        de =>
                                                                        {
                                                                            de.Click.Url = "/NewVer/AppReport_New/PrintStatusPlaque";
                                                                            de.Click.ExtraParams.Add(new { containerId = "AppReportTab" });
                                                                            de.Click.Before = "if(App.PrintStatusPlaque!=null){var tab =App.AppReportTab.getComponent('PrintStatusPlaque');App.AppReportTab.setActiveTab(tab);return false;}Ext.net.Mask.show({ msg : 'در حال بارگذاری...' });";
                                                                            de.Click.Success = "Ext.net.Mask.hide();";
                                                                        }),
                                                                               X.ImageButton()
                                                                        .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 298))
                                                                                            .ImageUrl("/content/icon/ImageButton/صادرشده و پرداخت شده2.png")
                                                                                          .OverImageUrl("/content/icon/ImageButton/صادرشده و پرداخت شده.png")
                                                                        .DirectEvents(
                                                                            de =>
                                                                            {
                                                                                de.Click.Url = "/NewVer/AppReport_New/FromDateToDate";
                                                                                de.Click.ExtraParams.Add(new { containerId = "AppReportTab" });
                                                                                de.Click.Before = "if(App.FromDateToDate!=null){var tab =App.AppReportTab.getComponent('FromDateToDate');App.AppReportTab.setActiveTab(tab);return false;}Ext.net.Mask.show({ msg : 'در حال بارگذاری...' });";
                                                                                de.Click.Success = "Ext.net.Mask.hide();";
                                                                            }),
                                                                                   X.ImageButton()
                                                                        .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 299))
                                                                                            .ImageUrl("/content/icon/ImageButton/صادرشده و پرداخت نشده2.png")
                                                                                          .OverImageUrl("/content/icon/ImageButton/صادرشده و پرداخت نشده.png")
                                                                        .DirectEvents(
                                                                            de =>
                                                                            {
                                                                                de.Click.Url = "/NewVer/AppReport_New/FromDateToDate_NotPaid";
                                                                                de.Click.ExtraParams.Add(new { containerId = "AppReportTab" });
                                                                                de.Click.Before = "if(App.FromDateToDate_NotPaid!=null){var tab =App.AppReportTab.getComponent('FromDateToDate_NotPaid');App.AppReportTab.setActiveTab(tab);return false;}Ext.net.Mask.show({ msg : 'در حال بارگذاری...' });";
                                                                                de.Click.Success = "Ext.net.Mask.hide();";
                                                                            }),
                                                                        X.ImageButton()
                                                                    .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 360))
                                                                                .ImageUrl("/content/icon/ImageButton/پرونده های خودرو2.png")
                                                                                  .OverImageUrl("/content/icon/ImageButton/پرونده های خودرو.png")
                                                                    .DirectEvents(
                                                                        de =>
                                                                        {
                                                                            de.Click.Url = "/NewVer/AppReport_New/PrintCarFile";
                                                                            de.Click.ExtraParams.Add(new { containerId = "AppReportTab" });
                                                                            de.Click.Before = "if(App.PrintCarFile!=null){var tab =App.AppReportTab.getComponent('PrintCarFile');App.AppReportTab.setActiveTab(tab);return false;}Ext.net.Mask.show({ msg : 'در حال بارگذاری...' });";
                                                                            de.Click.Success = "Ext.net.Mask.hide();";
                                                                        }),
                                                                        X.ImageButton()
                                                                    .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 361))
                                                                                    .ImageUrl("/content/icon/ImageButton/مالکان خودرو2.png")
                                                                                  .OverImageUrl("/content/icon/ImageButton/مالکان خودرو.png")
                                                                    .DirectEvents(
                                                                        de =>
                                                                        {
                                                                            de.Click.Url = "/NewVer/AppReport_New/PrintOwner";
                                                                            de.Click.ExtraParams.Add(new { containerId = "AppReportTab" });
                                                                            de.Click.Before = "if(App.PrintOwner!=null){var tab =App.AppReportTab.getComponent('PrintOwner');App.AppReportTab.setActiveTab(tab);return false;}Ext.net.Mask.show({ msg : 'در حال بارگذاری...' });";
                                                                            de.Click.Success = "Ext.net.Mask.hide();";
                                                                        }),
                                                                        X.ImageButton()
                                                                    .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 362))
                                                                                        .ImageUrl("/content/icon/ImageButton/کاراکترهای مجاز پلاک ملی2.png")
                                                                                      .OverImageUrl("/content/icon/ImageButton/کاراکترهای مجاز پلاک ملی.png")
                                                                    .DirectEvents(
                                                                        de =>
                                                                        {
                                                                            de.Click.Url = "/NewVer/AppReport_New/PrintCharacterPersianPlaque";
                                                                            de.Click.ExtraParams.Add(new { containerId = "AppReportTab" });
                                                                            de.Click.Before = "if(App.PrintCharacterPersianPlaque!=null){var tab =App.AppReportTab.getComponent('PrintCharacterPersianPlaque');App.AppReportTab.setActiveTab(tab);return false;}Ext.net.Mask.show({ msg : 'در حال بارگذاری...' });";
                                                                            de.Click.Success = "Ext.net.Mask.hide();";
                                                                        }),
                                                                        X.ImageButton()
                                                                    .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 363))
                                                                                .ImageUrl("/content/icon/ImageButton/شماره پلاکها2.png")
                                                                                  .OverImageUrl("/content/icon/ImageButton/شماره پلاکها.png")
                                                                    .DirectEvents(
                                                                        de =>
                                                                        {
                                                                            de.Click.Url = "/NewVer/AppReport_New/PrintCarPlaque";
                                                                            de.Click.ExtraParams.Add(new { containerId = "AppReportTab" });
                                                                            de.Click.Before = "if(App.PrintCarPlaque!=null){var tab =App.AppReportTab.getComponent('PrintCarPlaque');App.AppReportTab.setActiveTab(tab);return false;}Ext.net.Mask.show({ msg : 'در حال بارگذاری...' });";
                                                                            de.Click.Success = "Ext.net.Mask.hide();";
                                                                        }),
                                                                         X.ImageButton()
                                                                    .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 364))
                                                                                .ImageUrl("/content/icon/ImageButton/نرخ عوارض سالیانه2.png")
                                                                              .OverImageUrl("/content/icon/ImageButton/نرخ عوارض سالیانه.png")
                                                                    .DirectEvents(
                                                                        de =>
                                                                        {
                                                                            de.Click.Url = "/NewVer/AppReport_New/FromYear_Nerkh";
                                                                            de.Click.ExtraParams.Add(new { containerId = "AppReportTab" });
                                                                            de.Click.Before = "if(App.FromYear_Nerkh!=null){var tab =App.AppReportTab.getComponent('FromYear_Nerkh');App.AppReportTab.setActiveTab(tab);return false;}Ext.net.Mask.show({ msg : 'در حال بارگذاری...' });";
                                                                            de.Click.Success = "Ext.net.Mask.hide();";
                                                                        })
                                                                            ,
                                                                            X.ImageButton()
                                                                        .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 297))
                                                                                            .ImageUrl("/content/icon/ImageButton/جدول وصول2.png")
                                                                                              .OverImageUrl("/content/icon/ImageButton/جدول وصول.png")
                                                                        .DirectEvents(
                                                                            de =>
                                                                            {
                                                                                de.Click.Url = "/NewVer/AppReport_New/Collection";
                                                                                de.Click.ExtraParams.Add(new { containerId = "AppReportTab" });
                                                                                de.Click.Before = "if(App.Collection!=null){var tab =App.AppReportTab.getComponent('Collection');App.AppReportTab.setActiveTab(tab);return false;}Ext.net.Mask.show({ msg : 'در حال بارگذاری...' });";
                                                                                de.Click.Success = "Ext.net.Mask.hide();";
                                                                            })
                                                                                ,
                                                                            X.ImageButton()
                                                                        .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 388))
                                                                                            .ImageUrl("/content/icon/ImageButton/فیش وصولی به تفکیک کاربران2.png")
                                                                                              .OverImageUrl("/content/icon/ImageButton/فیش وصولی به تفکیک کاربران.png")
                                                                        .DirectEvents(
                                                                            de =>
                                                                            {
                                                                                de.Click.Url = "/NewVer/AppReport_New/FromYear";
                                                                                de.Click.ExtraParams.Add(new { containerId = "AppReportTab" });
                                                                                de.Click.Before = "if(App.FromYear!=null){var tab =App.AppReportTab.getComponent('FromYear');App.AppReportTab.setActiveTab(tab);return false;}Ext.net.Mask.show({ msg : 'در حال بارگذاری...' });";
                                                                                de.Click.Success = "Ext.net.Mask.hide();";
                                                                            })
                                                                                ,
                                                                                X.ImageButton()
                                                                            .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 389))
                                                                                                    .ImageUrl("/content/icon/ImageButton/فیش وصولی به تفکیک کاربران بازه زمانی2.png")
                                                                                                      .OverImageUrl("/content/icon/ImageButton/فیش وصولی به تفکیک کاربران بازه زمانی.png")
                                                                            .DirectEvents(
                                                                                de =>
                                                                                {
                                                                                    de.Click.Url = "/NewVer/AppReport_New/UserCount_Date";
                                                                                    de.Click.ExtraParams.Add(new { containerId = "AppReportTab" });
                                                                                    de.Click.Before = "if(App.UserCount_Date!=null){var tab =App.AppReportTab.getComponent('UserCount_Date');App.AppReportTab.setActiveTab(tab);return false;}Ext.net.Mask.show({ msg : 'در حال بارگذاری...' });";
                                                                                    de.Click.Success = "Ext.net.Mask.hide();";
                                                                                })
                                                                                    ,
                                                                                X.ImageButton()
                                                                            .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 325))
                                                                                        .ImageUrl("/content/icon/ImageButton/تاریخچه پرداخت ها2.png")
                                                                                            .OverImageUrl("/content/icon/ImageButton/تاریخچه پرداخت ها.png")
                                                                            .DirectEvents(
                                                                                de =>
                                                                                {
                                                                                    de.Click.Url = "/NewVer/AppReport_New/FromDate";
                                                                                    de.Click.ExtraParams.Add(new { containerId = "AppReportTab" });
                                                                                    de.Click.ExtraParams.Add(new { State = 1 });
                                                                                    de.Click.Before = "if(App.FromDate!=null){var tab =App.AppReportTab.getComponent('FromDate');App.AppReportTab.setActiveTab(tab);return false;}Ext.net.Mask.show({ msg : 'در حال بارگذاری...' });";
                                                                                    de.Click.Success = "Ext.net.Mask.hide();";
                                                                                })
                                                                                ,
                                                                                    X.ImageButton()
                                                                                .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 409))
                                                                                    .ImageUrl("/content/icon/ImageButton/پرونده های اسکن شده1.png")
                                                                                    .OverImageUrl("/content/icon/ImageButton/پرونده های اسکن شده.png")
                                                                                .DirectEvents(
                                                                                    de =>
                                                                                    {
                                                                                        de.Click.Url = "/NewVer/AppReport_New/FromDateToDateScan";
                                                                                        de.Click.ExtraParams.Add(new { containerId = "AppReportTab" });
                                                                                        de.Click.Before = "if(App.FromDateToDateScan!=null){var tab =App.AppReportTab.getComponent('FromDateToDateScan');App.AppReportTab.setActiveTab(tab);return false;}Ext.net.Mask.show({ msg : 'در حال بارگذاری...' });";
                                                                                        de.Click.Success = "Ext.net.Mask.hide();";
                                                                                    })
                                                                                    ,
                                                                                        X.ImageButton()
                                                                                    .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 404))
                                                                                        .ImageUrl("/content/icon/ImageButton/تعداد مفاصاهای صادرشده درروز1.png")
                                                                                            .OverImageUrl("/content/icon/ImageButton/تعداد مفاصاهای صادرشده درروز.png")
                                                                                    .DirectEvents(
                                                                                        de =>
                                                                                        {
                                                                                            de.Click.Url = "/NewVer/AppReport_New/INDate";
                                                                                            de.Click.ExtraParams.Add(new { containerId = "AppReportTab" });
                                                                                            de.Click.Before = "if(App.PrintCountMafasa!=null){var tab =App.AppReportTab.getComponent('PrintCountMafasa');App.AppReportTab.setActiveTab(tab);return false;}Ext.net.Mask.show({ msg : 'در حال بارگذاری...' });";
                                                                                            de.Click.Success = "Ext.net.Mask.hide();";
                                                                                        })
                                                                                            , X.ImageButton()
                                                                                                .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 405))
                                                                                                                .ImageUrl("/content/icon/ImageButton/تاریخچه ویرایش پرونده1.png")
                                                                                                                    .OverImageUrl("/content/icon/ImageButton/تاریخچه ویرایش پرونده.png")
                                                                                                .DirectEvents(
                                                                                                    de =>
                                                                                                    {
                                                                                                        de.Click.Url = "/NewVer/AppReport_New/RptLogCarFile";
                                                                                                        de.Click.ExtraParams.Add(new { containerId = "AppReportTab" });
                                                                                                        de.Click.Before = "if(App.RptLogCarFile!=null){var tab =App.AppReportTab.getComponent('RptLogCarFile');App.AppReportTab.setActiveTab(tab);return false;}Ext.net.Mask.show({ msg : 'در حال بارگذاری...' });";
                                                                                                        de.Click.Success = "Ext.net.Mask.hide();";
                                                                                                    })

                                                                                               , X.ImageButton()
                                                                                        .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 406))
                                                                                                        .ImageUrl("/content/icon/ImageButton/انتقال سوابق ثبت شده در روز1.png")
                                                                                                            .OverImageUrl("/content/icon/ImageButton/انتقال سوابق ثبت شده در روز.png")
                                                                                        .DirectEvents(
                                                                                            de =>
                                                                                            {
                                                                                                de.Click.Url = "/NewVer/AppReport_New/RptCarExperience_File";
                                                                                                de.Click.ExtraParams.Add(new { containerId = "AppReportTab" });
                                                                                                de.Click.Before = "if(App.RptCarExperience_File!=null){var tab =App.AppReportTab.getComponent('RptCarExperience_File');App.AppReportTab.setActiveTab(tab);return false;}Ext.net.Mask.show({ msg : 'در حال بارگذاری...' });";
                                                                                                de.Click.Success = "Ext.net.Mask.hide();";
                                                                                            })
                                                                                                , X.ImageButton()
                                                                                            .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 412))
                                                                                                .ImageUrl("/content/icon/ImageButton/پیگیری تراکنش ناموفق1.png")
                                                                                                .OverImageUrl("/content/icon/ImageButton/پیگیری تراکنش ناموفق.png")
                                                                                            .DirectEvents(
                                                                                                de =>
                                                                                                {
                                                                                                    de.Click.Url = "/NewVer/AppReport_New/GetInfoTrn";
                                                                                                    de.Click.Before = "Ext.net.Mask.show({ msg : 'در حال بارگذاری...' });";
                                                                                                    de.Click.Success = "Ext.net.Mask.hide();";
                                                                                                })
                                                                                        , X.ImageButton()
                                                                                                .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 417))
                                                                                                .ImageUrl("/content/icon/ImageButton/وصول.png")
                                                                                                .OverImageUrl("/content/icon/ImageButton/وصول2.png")
                                                                                                .DirectEvents(
                                                                                                    de =>
                                                                                                    {
                                                                                                        de.Click.Url = "/NewVer/AppReport_New/FromDate";
                                                                                                        de.Click.ExtraParams.Add(new { containerId = "AppReportTab" });
                                                                                                        de.Click.ExtraParams.Add(new { State = 2 });
                                                                                                        de.Click.Before = "Ext.net.Mask.show({ msg : 'در حال بارگذاری...' });";
                                                                                                        de.Click.Success = "Ext.net.Mask.hide();";
                                                                                                    })
                                                                                            , X.ImageButton()
                                                                                                .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 422))
                                                                                                         .ImageUrl("/content/icon/ImageButton/پیگیری پرداختهای شهرداری.png")
                                                                                                        .OverImageUrl("/content/icon/ImageButton/پیگیری پرداختهای شهرداری2.png")
                                                                                                .DirectEvents(
                                                                                                    de =>
                                                                                                    {
                                                                                                        de.Click.Url = "/NewVer/AppReport_New/UnsuccessfulPayments";
                                                                                                        de.Click.ExtraParams.Add(new { CarFileId = "0" });
                                                                                                        de.Click.Before = "Ext.net.Mask.show({ msg : 'در حال بارگذاری...' });";
                                                                                                        de.Click.Success = "Ext.net.Mask.hide();";
                                                                                                    })
                                                                                                    , X.ImageButton()
                                                                                                .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 424))
                                                                                                                .ImageUrl("/content/icon/ImageButton/پیگیری رسید های پیشخوان2.png")
                                                                                                            .OverImageUrl("/content/icon/ImageButton/پیگیری رسید پیشخوان.png")
                                                                                                .DirectEvents(
                                                                                                    de =>
                                                                                                    {
                                                                                                        de.Click.Url = "/NewVer/AppReport_New/UnsuccessfulReciept";
                                                                                                        de.Click.ExtraParams.Add(new { CarFileId = "0" });
                                                                                                        de.Click.Before = "Ext.net.Mask.show({ msg : 'در حال بارگذاری...' });";
                                                                                                        de.Click.Success = "Ext.net.Mask.hide();";
                                                                                                    })
                                                                )))
                                                            )
                                                        )
                                                    )
                                                )
                                                ),
                                                    Html.X().DesktopModule()
                .ModuleID("Ticketing")
                .Shortcut(
                    Html.X().DesktopShortcut()
                        .Name("تیکت")
                        .Hidden(!Avarez.Controllers.Users.Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 438))
                        .IconCls("shortcut-Ticketing")
                        .SortIndex(4)
                )
                .Launcher(
                    Html.X().MenuItem()
                        .Text("تیکت")
                            .Hidden(!Avarez.Controllers.Users.Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 438))
                            .IconCls("shortcut-Ticketing")
                )
                .Window(
                    Html.X().Window()
                        .RTL(true)
                        .ID("TicketingWin")
                        .AutoScroll(true)
                        .Title("تیکت")
                        .Icon(Ext.Net.Icon.CogGo)
                        .BodyStyle("background-color:rergb(244, 247, 249;")
                        .CloseAction(Ext.Net.CloseAction.Destroy)
                        .Layout(Ext.Net.LayoutType.Anchor)
                        .Maximized(true)
                        .Height(600)
                        .Items(
                            X.Panel()
                                .Border(false)
                                .Items(
                                    Html.X().TabPanel()
                                        .Border(false)
                                        .Items(
                                            X.Panel()
                                                .Title("تیکت")
                                                .TabMenu(m => m.Add(X.Menu().Items(
                                                X.MenuItem().Text("موضوع گفتگو").DirectClickUrl("/newver/TicketCategory/index?containerId=TicketPanelTab").IconCls("minTicketCategory").Hidden(!Avarez.Controllers.Users.Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 439)),
                                                X.MenuItem().Text("تعیین دسترسی").DirectClickUrl("/newver/TicketPermission/index?containerId=TicketPanelTab").IconCls("minTicketPermission").Hidden(!Avarez.Controllers.Users.Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 444)),
                                                X.MenuItem().Text("گفتگوها").DirectClickUrl("/newver/TicketKartabl/index?containerId=TicketPanelTab").IconCls("minChats").Hidden(!Avarez.Controllers.Users.Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 443))
                                            )))
                                            .Border(false)
                                            .Items(
                                                Html.X().TabPanel()
                                                    .Border(false)
                                                    .ID("TicketingTab")
                                                    .ManageHeight(true)
                                                    .Items(
                                                        X.Panel()
                                                            .Title("میزکار")
                                                            .ItemID("pnlTicketingTab")
                                                            .Border(false)
                                                            .Listeners(l => l.AfterRender.Handler = "App.TicketingTab.queryById('pnlTicketingTab').setSize(App.TicketingWin.getWidth()-10,App.TicketingWin.getHeight()-100);")
                                                            .AutoScroll(true)
                                                            .Margins("30 0 0 0")
        //.Height(500)
                                                            .LayoutConfig(new Ext.Net.HBoxLayoutConfig { Align = Ext.Net.HBoxAlign.StretchMax, Pack = Ext.Net.BoxPack.Center })
                                                            .Items(
                                                                X.Container()
                                                                    .Region(Ext.Net.Region.Center)
                                                                    .Layout(Ext.Net.LayoutType.Table)
                                                                    .Center()
                                                                    .LayoutConfig(new Ext.Net.TableLayoutConfig { Columns = 7 })
                                                                    .Defaults(new { Width = 110, Height = 110 })
                                                                    .Items(
                                                                        X.ImageButton()
                                                                                .Hidden(!Avarez.Controllers.Users.Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 439))
                                                                            .ImageUrl("/Content/ticket/موضوع گفتگو1.png")
                                                                                    .OverImageUrl("/Content/ticket/موضوع گفتگو.png")
                                                                            .DirectEvents(
                                                                                de =>
                                                                                {
                                                                                    de.Click.Url = "/newver/TicketCategory/index";
                                                                                    de.Click.ExtraParams.Add(new { containerId = "TicketingTab" });
                                                                                    de.Click.Before = "if(App.TicketCategory!=null){var tab =App.TicketingTab.getComponent('TicketCategory');App.TicketingTab.setActiveTab(tab);return false;}Ext.net.Mask.show({ msg : 'در حال بارگذاری...' });";
                                                                                    de.Click.Success = "Ext.net.Mask.hide();";
                                                                                }
                                                                            ),
                                                                        X.ImageButton()
                                                                                .Hidden(!Avarez.Controllers.Users.Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 444))
                                                                                    .ImageUrl("/Content/ticket/دسترسی گفتگوها1.png")
                                                                                    .OverImageUrl("/Content/ticket/دسترسی گفتگوها.png")
                                                                            .DirectEvents(
                                                                                de =>
                                                                                {
                                                                                    de.Click.Url = "/newver/TicketPermission/index";
                                                                                    de.Click.ExtraParams.Add(new { containerId = "TicketingTab" });
                                                                                    de.Click.Before = "if(App.TicketPermission!=null){var tab =App.TicketingTab.getComponent('TicketPermission');App.TicketingTab.setActiveTab(tab);return false;}Ext.net.Mask.show({ msg : 'در حال بارگذاری...' });";
                                                                                    de.Click.Success = "Ext.net.Mask.hide();";
                                                                                }
                                                                            ),
                                                                        X.ImageButton()
                                                                                .Hidden(!Avarez.Controllers.Users.Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 443))
                                                                                .ImageUrl("/Content/ticket/گفتگوها1.png")
                                                                                .OverImageUrl("/Content/ticket/گفتگوها.png")
                                                                            .DirectEvents(
                                                                                de =>
                                                                                {
                                                                                    de.Click.Url = "/newver/TicketKartabl/index";
                                                                                    de.Click.ExtraParams.Add(new { containerId = "TicketingTab" });
                                                                                    de.Click.Before = "if(App.TicketKartabl!=null){var tab =App.TicketingTab.getComponent('TicketKartabl');App.TicketingTab.setActiveTab(tab);return false;}Ext.net.Mask.show({ msg : 'در حال بارگذاری...' });";
                                                                                    de.Click.Success = "Ext.net.Mask.hide();";
                                                                                }
                                                                            )
                                                )
                                            )
                                    )
                                    )
                                )
                            )
                            )
                            ),
            Html.X().DesktopModule()
                .ModuleID("_Ticket")
                .Shortcut(
                    Html.X().DesktopShortcut()
                            .Hidden(!Avarez.Controllers.Users.Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 446))
                        .Name("ارسال تیکت")
                        .IconCls("shortcut_SendTicket").SortIndex(5)
                            .Handler("Ext.net.Mask.show({ msg : 'در حال بارگذاری...' });Ext.net.DirectMethod.request({url: '/newver/UserTicket/Index'})")
                    )
                .Launcher(
                    Html.X().MenuItem()
                        .Text("ارسال تیکت")
                            .Hidden(!Avarez.Controllers.Users.Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 446))
                        .IconCls("shortcut_SendTicket")
                            .Handler("Ext.net.Mask.show({ msg : 'در حال بارگذاری...' });Ext.net.DirectMethod.request({url: '/newver/UserTicket/Index'})")
                    ),

        Html.X().DesktopModule()
            .ModuleID("create-MgrReport")
            .Shortcut(
                Html.X().DesktopShortcut()
                    .Name("گزارشات مدیریتی")
                        .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 224))
        //.Hidden(!servic.Permission(7, Session["Username"].ToString(), Session["Password"].ToString(), out Err))
                                .IconCls("shortcut_MgrReport")
                    .SortIndex(5)
            )
            .Launcher(
                Html.X().MenuItem()
                        .Text("گزارشات مدیریتی")
                        .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 224))
        //.Hidden(!servic.Permission(7, Session["Username"].ToString(), Session["Password"].ToString(), out Err))
                                        .IconCls("shortcut_MgrReport")
            )
            .Window(
                Html.X().Window()
                    .RTL(true)
                    .AutoScroll(true)
                            .Title("گزارشات مدیریتی")
                    .Icon(Ext.Net.Icon.User)
                    .BodyStyle("background-color:rergb(244, 247, 249;")
                    .CloseAction(Ext.Net.CloseAction.Destroy)
                    .Layout(Ext.Net.LayoutType.Fit)
                    .Maximized(true)
                    .Height(600)
                            .ID("MgrReportWin")
                    .Items(
                    X.Panel().Split(true)
                    .Border(false)
                    .Layout(LayoutType.Fit)
                    .Items(
                        Html.X().TabPanel()
                            .Layout(LayoutType.Fit)
                            .Border(false)
                            .Items(
                                    X.Panel().Split(true)
                                            .Title("گزارشات مدیریتی")
                                    .Layout(LayoutType.Fit)
                                    .Border(false)
                                    .TabMenu(m => m.Add(X.Menu().Items(
                                        X.MenuItem().Text("گزارش آماری(ریالی)").DirectClickUrl("/NewVer/MgrReport_New/FromDateToDate?containerId=MgrReportTab&state=1").IconCls("RptRiyali")
                                        .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 304)),
                                        X.MenuItem().Text("گزارش آماری(درصدی)").DirectClickUrl("/NewVer/MgrReport_New/FromDateToDateDarsadi?containerId=MgrReportTab").IconCls("RptDarsadi")
                                        .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 305)),
                                        X.MenuItem().Text("گزارش تفکیکی درآمد به ماه و سال").DirectClickUrl("/NewVer/MgrReport_New/FromYear?containerId=MgrReportTab&state=1").IconCls("RptTafkiki")
                                        .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 306)),
                                        X.MenuItem().Text("گزارش تعداد فیش به تفکیک ماه وسال").DirectClickUrl("/NewVer/MgrReport_New/FromYearFish?containerId=MgrReportTab").IconCls("RptFish")
                                        .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 307)),
                                        X.MenuItem().Text("تفریغ بودجه در سال").DirectClickUrl("/NewVer/MgrReport_New/FromYearBudje?containerId=MgrReportTab").IconCls("RptBudje")
                                        .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 365)),
                                        X.MenuItem().Text("درآمد سالیانه به تفکیک ماه و نوع خودرو").DirectClickUrl("/NewVer/MgrReport_New/FromYearSaliyane?containerId=MgrReportTab").IconCls("RptSaliane")
                                        .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 366)),
                                        X.MenuItem().Text("فیش های صادر شده به تفکیک ماه").DirectClickUrl("/NewVer/MgrReport_New/FromYear?containerId=MgrReportTab&state=5").IconCls("fish_Month")
                                        .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 407)),
                                        X.MenuItem().Text("فیش های صادر شده به تفکیک توابع").DirectClickUrl("/NewVer/MgrReport_New/FromYear?containerId=MgrReportTab&state=6").IconCls("fish_Tavabe")
                                        .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 408)),
                                        X.MenuItem().Text("فیش های صادر شده به تفکیک ماه و توابع").IconCls("fish_Tavabe_Month").DirectClickUrl("/NewVer/MgrReport_New/FromYear?containerId=MgrReportTab&state=7")
                                        .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 410))
                                )))
                                    .Items(
                                        Html.X().TabPanel()
                                            .Border(false)
                                            .Layout(LayoutType.Fit)
                                                    .ID("MgrReportTab")
                                            .ManageHeight(true)
                                            .Items(
                                                    X.Panel().Split(true)
                                                    .Title("میزکار")
                                                    .Border(false)
                                                    .AutoScroll(true)
                                                    .Margins("30 0 0 0")
                                                    .Height(550)
                                                    .LayoutConfig(new Ext.Net.HBoxLayoutConfig { Align = Ext.Net.HBoxAlign.StretchMax, Pack = Ext.Net.BoxPack.Center })
                                                    .Items(
                                                        X.Container()
                                                            .Region(Ext.Net.Region.Center)
                                                            .Layout(Ext.Net.LayoutType.Table)
                                                            .Center()
                                                            .LayoutConfig(new Ext.Net.TableLayoutConfig { Columns = 7 })
                                                            .Defaults(new { Width = 110, Height = 110 })
                                                            .Items(
                                                            X.ImageButton()
                                                            .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 304))
                                                                        .ImageUrl("/content/icon/ImageButton/گزارش آماری ریالی2.png")
                                                                            .OverImageUrl("/content/icon/ImageButton/گزارش آماری ریالی.png")
                                                            .DirectEvents(
                                                                de =>
                                                                {
                                                                    de.Click.Url = "/NewVer/MgrReport_New/FromDateToDate?state=1";
                                                                    de.Click.ExtraParams.Add(new { containerId = "MgrReportTab" });
                                                                    de.Click.Before = "if(App.FromDateToDate!=null){var tab =App.MgrReportTab.getComponent('FromDateToDate');App.MgrReportTab.setActiveTab(tab);return false;}Ext.net.Mask.show({ msg : 'در حال بارگذاری...' });";
                                                                    de.Click.Success = "Ext.net.Mask.hide();";
                                                                })
                                                        ,
                                                                X.ImageButton()
                                                            .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 305))
                                                                        .ImageUrl("/content/icon/ImageButton/گزارش آماری درصدی2.png")
                                                                            .OverImageUrl("/content/icon/ImageButton/گزارش آماری درصدی.png")
                                                            .DirectEvents(
                                                                de =>
                                                                {
                                                                    de.Click.Url = "/NewVer/MgrReport_New/FromDateToDateDarsadi";
                                                                    de.Click.ExtraParams.Add(new { containerId = "MgrReportTab" });
                                                                    de.Click.Before = "if(App.FromDateToDateDarsadi!=null){var tab =App.MgrReportTab.getComponent('FromDateToDateDarsadi');App.MgrReportTab.setActiveTab(tab);return false;}Ext.net.Mask.show({ msg : 'در حال بارگذاری...' });";
                                                                    de.Click.Success = "Ext.net.Mask.hide();";
                                                                })
                                                            ,
                                                            X.ImageButton()
                                                        .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 306))
                                                                        .ImageUrl("/content/icon/ImageButton/گزارش تفکیکی درآمد به ماه و سال2.png")
                                                                            .OverImageUrl("/content/icon/ImageButton/گزارش تفکیکی درآمد به ماه و سال.png")
                                                        .DirectEvents(
                                                            de =>
                                                            {
                                                                de.Click.Url = "/NewVer/MgrReport_New/FromYear?state=1";
                                                                de.Click.ExtraParams.Add(new { containerId = "MgrReportTab" });
                                                                de.Click.Before = "if(App.FromYear!=null){var tab =App.MgrReportTab.getComponent('FromYear');App.MgrReportTab.setActiveTab(tab);return false;}Ext.net.Mask.show({ msg : 'در حال بارگذاری...' });";
                                                                de.Click.Success = "Ext.net.Mask.hide();";
                                                            })
                                                            ,
                                                            X.ImageButton()
                                                        .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 307))
                                                                    .ImageUrl("/content/icon/ImageButton/گزارش تعداد فیش به تفکیک ماه و سال2.png")
                                                                        .OverImageUrl("/content/icon/ImageButton/گزارش تعداد فیش به تفکیک ماه و سال.png")
                                                        .DirectEvents(
                                                            de =>
                                                            {
                                                                de.Click.Url = "/NewVer/MgrReport_New/FromYearFish";
                                                                de.Click.ExtraParams.Add(new { containerId = "MgrReportTab" });
                                                                de.Click.Before = "if(App.FromYearFish!=null){var tab =App.MgrReportTab.getComponent('FromYearFish');App.MgrReportTab.setActiveTab(tab);return false;}Ext.net.Mask.show({ msg : 'در حال بارگذاری...' });";
                                                                de.Click.Success = "Ext.net.Mask.hide();";
                                                            })
                                                        ,
                                                        X.ImageButton()
                                                    .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 365))
                                                                .ImageUrl("/content/icon/ImageButton/تفریغ بودجه در سال2.png")
                                                                    .OverImageUrl("/content/icon/ImageButton/تفریغ بودجه در سال.png")
                                                    .DirectEvents(
                                                        de =>
                                                        {
                                                            de.Click.Url = "/NewVer/MgrReport_New/FromYearBudje";
                                                            de.Click.ExtraParams.Add(new { containerId = "MgrReportTab" });
                                                            de.Click.Before = "if(App.FromYearBudje!=null){var tab =App.MgrReportTab.getComponent('FromYearBudje');App.MgrReportTab.setActiveTab(tab);return false;}Ext.net.Mask.show({ msg : 'در حال بارگذاری...' });";
                                                            de.Click.Success = "Ext.net.Mask.hide();";
                                                        })
                                                    ,
                                                    X.ImageButton()
                                                .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 366))
                                                            .ImageUrl("/content/icon/ImageButton/درآمد سالیانه به تفکیک ماه و نوع خودرو2.png")
                                                                .OverImageUrl("/content/icon/ImageButton/درآمد سالیانه به تفکیک ماه و نوع خودرو.png")
                                                .DirectEvents(
                                                    de =>
                                                    {
                                                        de.Click.Url = "/NewVer/MgrReport_New/FromYearSaliyane";
                                                        de.Click.ExtraParams.Add(new { containerId = "MgrReportTab" });
                                                        de.Click.Before = "if(App.FromYearSaliyane!=null){var tab =App.MgrReportTab.getComponent('FromYearSaliyane');App.MgrReportTab.setActiveTab(tab);return false;}Ext.net.Mask.show({ msg : 'در حال بارگذاری...' });";
                                                        de.Click.Success = "Ext.net.Mask.hide();";
                                                    })
        ,
        X.ImageButton()
        .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 407))
            .ImageUrl("/content/icon/ImageButton/فیش های صادر شده به تفکیک ماه1.png")
            .OverImageUrl("/content/icon/ImageButton/فیش های صادر شده به تفکیک ماه.png")
        .DirectEvents(
            de =>
            {
                de.Click.Url = "/NewVer/MgrReport_New/FromYear?state=5";
                de.Click.ExtraParams.Add(new { containerId = "MgrReportTab" });
                de.Click.Before = "if(App.FromYear!=null){var tab =App.MgrReportTab.getComponent('FromYear');App.MgrReportTab.setActiveTab(tab);return false;}Ext.net.Mask.show({ msg : 'در حال بارگذاری...' });";
                de.Click.Success = "Ext.net.Mask.hide();";
            }),
        X.ImageButton()
            .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 408))
                .ImageUrl("/content/icon/ImageButton/فیش های صادر شده به تفکیک توابع1.png")
                .OverImageUrl("/content/icon/ImageButton/فیش های صادر شده به تفکیک توابع.png")
            .DirectEvents(
                de =>
                {
                    de.Click.Url = "/NewVer/MgrReport_New/FromYear?state=6";
                    de.Click.ExtraParams.Add(new { containerId = "MgrReportTab" });
                    de.Click.Before = "if(App.FromYear!=null){var tab =App.MgrReportTab.getComponent('FromYear');App.MgrReportTab.setActiveTab(tab);return false;}Ext.net.Mask.show({ msg : 'در حال بارگذاری...' });";
                    de.Click.Success = "Ext.net.Mask.hide();";
                }),
        X.ImageButton()
            .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 410))
                .ImageUrl("/content/icon/ImageButton/فیش های صادرشده به تفکیک توابع و ماه1.png")
                .OverImageUrl("/content/icon/ImageButton/فیش های صادرشده به تفکیک توابع و ماه.png")
                .DirectEvents(
                    de =>
                    {
                        de.Click.Url = "/NewVer/MgrReport_New/FromYear?state=7";
                        de.Click.ExtraParams.Add(new { containerId = "MgrReportTab" });
                        de.Click.Before = "if(App.FromYear!=null){var tab =App.MgrReportTab.getComponent('FromYear');App.MgrReportTab.setActiveTab(tab);return false;}Ext.net.Mask.show({ msg : 'در حال بارگذاری...' });";
                        de.Click.Success = "Ext.net.Mask.hide();";
                    })
                                                                        )))
                                                            )
                                                        )
                                                    )
                                                )
                                                )
                                                ,



                                        Html.X().DesktopModule()
        .ModuleID("create-Tools")
        .Shortcut(
            Html.X().DesktopShortcut()
                .Name("ابزارهای  سیستم")
                    .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 269))
        //.Hidden(!servic.Permission(7, Session["Username"].ToString(), Session["Password"].ToString(), out Err))
                        .IconCls("shortcut_Tools")
                .SortIndex(7)
        )
        .Launcher(
            Html.X().MenuItem()
                    .Text("ابزارهای  سیستم")
                    .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 269))
        //.Hidden(!servic.Permission(7, Session["Username"].ToString(), Session["Password"].ToString(), out Err))
                                .IconCls("shortcut_Tools")
        )
        .Window(
            Html.X().Window()
                .RTL(true)
                .AutoScroll(true)
                    .Title("ابزارهای  سیستم")
                .Icon(Ext.Net.Icon.User)
                .BodyStyle("background-color:rergb(244, 247, 249;")
                .CloseAction(Ext.Net.CloseAction.Destroy)
                .Layout(Ext.Net.LayoutType.Fit)
                .Maximized(true)
                .Height(600)
                    .ID("ToolsWin")
                .Items(
                X.Panel().Split(true)
                .Border(false)
                .Layout(LayoutType.Fit)
                .Items(
                    Html.X().TabPanel()
                        .Layout(LayoutType.Fit)
                        .Border(false)
                        .Items(
                                X.Panel().Split(true)
                                    .Title("ابزارهای  سیستم")
                                .Layout(LayoutType.Fit)
                                .Border(false)
                                .TabMenu(m => m.Add(X.Menu().Items(
                                     X.MenuItem().Text("تعریف مخاطب").DirectClickUrl("/NewVer/AccostType_New/index?containerId=ToolsTab").IconCls("AccostType")
                                    .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 271)),
                                    X.MenuItem().Text("تعریف و جستجوی مخاطب").DirectClickUrl("/NewVer/Contact_New/index?containerId=ToolsTab").IconCls("Contact")
                                    .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 275))
                                    , X.MenuItem().Text("مدیریت خطا").DirectClickUrl("/NewVer/Error_New/index?containerId=ToolsTab").IconCls("Error")
                                    .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 280))
                                    , X.MenuItem().Text("تاریخچه کاربران").DirectClickUrl("/NewVer/NameTable_New/index?containerId=ToolsTab").IconCls("UserLog")
                                    .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 281))
                                    , X.MenuItem().Text("ثبت اطلاعیه").DirectClickUrl("/NewVer/Announcement_New/index?containerId=ToolsTab").IconCls("Announcement")
                                    .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 282))
                                    , X.MenuItem().Text("ثبت پارامترهای بانکها").DirectClickUrl("/NewVer/BankParametr_New/index?containerId=ToolsTab").IconCls("BankParametr")
                                    .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 286))
                                    , X.MenuItem().Text("پشتیبانی نرخ ها").DirectClickUrl("/NewVer/SupportRate_New/index?containerId=ToolsTab").IconCls("SupportRate")
                                    .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 368))
                                    , X.MenuItem().Text("کاربران آنلاین").DirectClickUrl("/NewVer/OnlineUsers_New/index?containerId=ToolsTab").IconCls("OnlineUsers")
                                    .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 373))



                            )))
                                .Items(
                                    Html.X().TabPanel()
                                        .Border(false)
                                        .Layout(LayoutType.Fit)
                                            .ID("ToolsTab")
                                        .ManageHeight(true)
                                        .Items(
                                                X.Panel().Split(true)
                                                .Title("میزکار")
                                                .Border(false)
                                                .AutoScroll(true)
                                                .Margins("30 0 0 0")
                                                .Height(550)
                                                .LayoutConfig(new Ext.Net.HBoxLayoutConfig { Align = Ext.Net.HBoxAlign.StretchMax, Pack = Ext.Net.BoxPack.Center })
                                                .Items(
                                                    X.Container()
                                                        .Region(Ext.Net.Region.Center)
                                                        .Layout(Ext.Net.LayoutType.Table)
                                                        .Center()
                                                        .LayoutConfig(new Ext.Net.TableLayoutConfig { Columns = 7 })
                                                        .Defaults(new { Width = 110, Height = 110 })
                                                        .Items(
                                                         X.ImageButton()
                                                                    .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 271))
                                                                        .ImageUrl("/content/icon/ImageButton/تعریف نوع مخاطب2.png")
                                                                    .OverImageUrl("/content/icon/ImageButton/تعریف نوع مخاطب.png")
                                                                    .DirectEvents(
                                                                        de =>
                                                                        {
                                                                            de.Click.Url = "/NewVer/AccostType_New/index";
                                                                            de.Click.ExtraParams.Add(new { containerId = "ToolsTab" });
                                                                            de.Click.Before = "if(App.AccostType!=null){var tab =App.ToolsTab.getComponent('AccostType');App.ToolsTab.setActiveTab(tab);return false;}Ext.net.Mask.show({ msg : 'در حال بارگذاری...' });";
                                                                            de.Click.Success = "Ext.net.Mask.hide();";
                                                                        }),
                                                        X.ImageButton()
                                                                    .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 275))
                                                                        .ImageUrl("/content/icon/ImageButton/تعریف و جستجوی مخاطب2.png")
                                                                    .OverImageUrl("/content/icon/ImageButton/تعریف و جستجوی مخاطب.png")
                                                                    .DirectEvents(
                                                                        de =>
                                                                        {
                                                                            de.Click.Url = "/NewVer/Contact_New/index";
                                                                            de.Click.ExtraParams.Add(new { containerId = "ToolsTab" });
                                                                            de.Click.Before = "if(App.Contact!=null){var tab =App.ToolsTab.getComponent('Contact');App.ToolsTab.setActiveTab(tab);return false;}Ext.net.Mask.show({ msg : 'در حال بارگذاری...' });";
                                                                            de.Click.Success = "Ext.net.Mask.hide();";
                                                                        })
                                                        , X.ImageButton()
                                                                        .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 280))
                                                                            .ImageUrl("/content/icon/ImageButton/مدیریت خطا2.png")
                                                                        .OverImageUrl("/content/icon/ImageButton/مدیریت خطا.png")
                                                                        .DirectEvents(
                                                                            de =>
                                                                            {
                                                                                de.Click.Url = "/NewVer/Error_New/index";
                                                                                de.Click.ExtraParams.Add(new { containerId = "ToolsTab" });
                                                                                de.Click.Before = "if(App.Error!=null){var tab =App.ToolsTab.getComponent('Error');App.ToolsTab.setActiveTab(tab);return false;}Ext.net.Mask.show({ msg : 'در حال بارگذاری...' });";
                                                                                de.Click.Success = "Ext.net.Mask.hide();";
                                                                            })
                                                                                  , X.ImageButton()
                                                                            .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 281))
                                                                                .ImageUrl("/content/icon/ImageButton/تاریخچه کاربران2.png")
                                                                            .OverImageUrl("/content/icon/ImageButton/تاریخچه کاربران.png")
                                                                            .DirectEvents(
                                                                                de =>
                                                                                {
                                                                                    de.Click.Url = "/NewVer/NameTable_New/index";
                                                                                    de.Click.ExtraParams.Add(new { containerId = "ToolsTab" });
                                                                                    de.Click.Before = "if(App.NameTable!=null){var tab =App.ToolsTab.getComponent('NameTable');App.ToolsTab.setActiveTab(tab);return false;}Ext.net.Mask.show({ msg : 'در حال بارگذاری...' });";
                                                                                    de.Click.Success = "Ext.net.Mask.hide();";
                                                                                })
                                                                                 , X.ImageButton()
                                                                            .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 282))
                                                                                .ImageUrl("/content/icon/ImageButton/ثبت اطلاعیه2.png")
                                                                            .OverImageUrl("/content/icon/ImageButton/ثبت اطلاعیه.png")
                                                                            .DirectEvents(
                                                                                de =>
                                                                                {
                                                                                    de.Click.Url = "/NewVer/Announcement_New/index";
                                                                                    de.Click.ExtraParams.Add(new { containerId = "ToolsTab" });
                                                                                    de.Click.Before = "if(App.Announcement!=null){var tab =App.ToolsTab.getComponent('Announcement');App.ToolsTab.setActiveTab(tab);return false;}Ext.net.Mask.show({ msg : 'در حال بارگذاری...' });";
                                                                                    de.Click.Success = "Ext.net.Mask.hide();";
                                                                                })

                                                                                , X.ImageButton()
                                                                        .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 286))
                                                                            .ImageUrl("/content/icon/ImageButton/ثبت پارامترهای بانکها2.png")
                                                                        .OverImageUrl("/content/icon/ImageButton/ثبت پارامترهای بانکها.png")
                                                                        .DirectEvents(
                                                                            de =>
                                                                            {
                                                                                de.Click.Url = "/NewVer/BankParametr_New/index";
                                                                                de.Click.ExtraParams.Add(new { containerId = "ToolsTab" });
                                                                                de.Click.Before = "if(App.BankParametr!=null){var tab =App.ToolsTab.getComponent('BankParametr');App.ToolsTab.setActiveTab(tab);return false;}Ext.net.Mask.show({ msg : 'در حال بارگذاری...' });";
                                                                                de.Click.Success = "Ext.net.Mask.hide();";
                                                                            })
                                                                                   , X.ImageButton()
                                                                                .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 368))
                                                                                    .ImageUrl("/content/icon/ImageButton/پشتیبانی نرخ ها2.png")
                                                                                .OverImageUrl("/content/icon/ImageButton/پشتیبانی نرخ ها.png")
                                                                                .DirectEvents(
                                                                                    de =>
                                                                                    {
                                                                                        de.Click.Url = "/NewVer/SupportRate_New/index";
                                                                                        de.Click.ExtraParams.Add(new { containerId = "ToolsTab" });
                                                                                        de.Click.Before = "if(App.SupportRate!=null){var tab =App.ToolsTab.getComponent('SupportRate');App.ToolsTab.setActiveTab(tab);return false;}Ext.net.Mask.show({ msg : 'در حال بارگذاری...' });";
                                                                                        de.Click.Success = "Ext.net.Mask.hide();";
                                                                                    })
                                                                             , X.ImageButton()
                                                                        .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 373))
                                                                            .ImageUrl("/content/icon/ImageButton/کاربران آنلاین2.png")
                                                                        .OverImageUrl("/content/icon/ImageButton/کاربران آنلاین.png")
                                                                        .DirectEvents(
                                                                            de =>
                                                                            {
                                                                                de.Click.Url = "/NewVer/OnlineUsers_New/index";
                                                                                de.Click.ExtraParams.Add(new { containerId = "ToolsTab" });
                                                                                de.Click.Before = "if(App.OnlineUsers_New!=null){var tab =App.ToolsTab.getComponent('OnlineUsers_New');App.ToolsTab.setActiveTab(tab);return false;}Ext.net.Mask.show({ msg : 'در حال بارگذاری...' });";
                                                                                de.Click.Success = "Ext.net.Mask.hide();";
                                                                            })
        /* , X.ImageButton()
     .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 373))
     .ImageUrl("/content/icon/ImageButton/ورود نرخ عوارض سالیانه.png")
 .OverImageUrl("/content/icon/ImageButton/ورود نرخ عوارض سالیانه2.png")
     .DirectEvents(
         de =>
         {
             de.Click.Url = "/Dashboard/index";
             de.Click.ExtraParams.Add(new { containerId = "ToolsTab" });
             de.Click.Before = "if(App.Dashboard!=null){var tab =App.ToolsTab.getComponent('Dashboard');App.ToolsTab.setActiveTab(tab);return false;}Ext.net.Mask.show({ msg : 'در حال بارگذاری...' });";
             de.Click.Success = "Ext.net.Mask.hide();";
         })*/



                                                          )))
                                                        )
                                                    )
                                                )
                                            )
                                            ),
                                                 Html.X().DesktopModule()
                .ModuleID("create-User")
                .Shortcut(
                    Html.X().DesktopShortcut()
                        .Name("مدیریت کاربران")
                            .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 255))
        //.Hidden(!servic.Permission(7, Session["Username"].ToString(), Session["Password"].ToString(), out Err))
                                    .IconCls("shortcut_User")
                        .SortIndex(8)
                )
                .Launcher(
                    Html.X().MenuItem()
                            .Text("مدیریت کاربران")
                            .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 255))
        //.Hidden(!servic.Permission(7, Session["Username"].ToString(), Session["Password"].ToString(), out Err))
                                            .IconCls("shortcut_User")
                )
                .Window(
                    Html.X().Window()
                        .RTL(true)
                        .AutoScroll(true)
                                .Title("کاربران")
                        .Icon(Ext.Net.Icon.User)
                        .BodyStyle("background-color:rergb(244, 247, 249;")
                        .CloseAction(Ext.Net.CloseAction.Destroy)
                        .Layout(Ext.Net.LayoutType.Fit)
                        .Maximized(true)
                        .Height(600)
                                .ID("UserWin")
                        .Items(
                        X.Panel().Split(true)
                        .Border(false)
                        .Layout(LayoutType.Fit)
                        .Items(
                            Html.X().TabPanel()
                                .Layout(LayoutType.Fit)
                                .Border(false)
                                .Items(
                                        X.Panel().Split(true)
                                                .Title("کاربران")
                                        .Layout(LayoutType.Fit)
                                        .Border(false)
                                        .TabMenu(m => m.Add(X.Menu().Items(
                                                X.MenuItem().Text("گروه کاری").DirectClickUrl("/NewVer/UserGroup_New/Index?containerId=UserTab").IconCls("UserGroup")
                                                .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 256)),
                                                X.MenuItem().Text("سطوح دسترسی").DirectClickUrl("/NewVer/Permission_New/Index?containerId=UserTab").IconCls("Permission")
                                                .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 260))
                                                , X.MenuItem().Text("کاربران نرم افزار").DirectClickUrl("/NewVer/User_New/Index?containerId=UserTab").IconCls("User")
                                                .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 264))
                                                , X.MenuItem().Text("اطلاعات وب سرویس تراکنش").DirectClickUrl("/NewVer/TransactionInf_New/Index?containerId=UserTab").IconCls("TransactionInf")
                                                .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 321))
                                                , X.MenuItem().Text("تایید ثبت نام").DirectClickUrl("/NewVer/TaidSabtename_New/Index?containerId=UserTab").IconCls("TaidSabtename")
                                                .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 390))
                                    )))
                                        .Items(
                                            Html.X().TabPanel()
                                                .Border(false)
                                                .Layout(LayoutType.Fit)
                                                        .ID("UserTab")
                                                .ManageHeight(true)
                                                .Items(
                                                        X.Panel().Split(true)
                                                        .Title("میزکار")
                                                        .Border(false)
                                                        .AutoScroll(true)
                                                        .Margins("30 0 0 0")
                                                        .Height(550)
                                                        .LayoutConfig(new Ext.Net.HBoxLayoutConfig { Align = Ext.Net.HBoxAlign.StretchMax, Pack = Ext.Net.BoxPack.Center })
                                                        .Items(
                                                            X.Container()
                                                                .Region(Ext.Net.Region.Center)
                                                                .Layout(Ext.Net.LayoutType.Table)
                                                                .Center()
                                                                .LayoutConfig(new Ext.Net.TableLayoutConfig { Columns = 7 })
                                                                .Defaults(new { Width = 110, Height = 110 })
                                                                .Items(
                                                                  X.ImageButton()
                                                                .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 256))
                                                                                .ImageUrl("/content/icon/ImageButton/گروه های کاری2.png")
                                                                                    .OverImageUrl("/content/icon/ImageButton/گروه های کاری.png")
                                                                .DirectEvents(
                                                                    de =>
                                                                    {
                                                                        de.Click.Url = "/NewVer/Usergroup_New/Index";
                                                                        de.Click.ExtraParams.Add(new { containerId = "UserTab" });
                                                                        de.Click.Before = "if(App.Usergroup!=null){var tab =App.UserTab.getComponent('Usergroup');App.UserTab.setActiveTab(tab);return false;}Ext.net.Mask.show({ msg : 'در حال بارگذاری...' });";
                                                                        de.Click.Success = "Ext.net.Mask.hide();";
                                                                    }),

                                                                X.ImageButton()
                                                                .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 260))
                                                                                .ImageUrl("/content/icon/ImageButton/سطوح دسترسی2.png")
                                                                                    .OverImageUrl("/content/icon/ImageButton/سطوح دسترسی.png")
                                                                .DirectEvents(
                                                                    de =>
                                                                    {
                                                                        de.Click.Url = "/NewVer/Permission_New/Index";
                                                                        de.Click.ExtraParams.Add(new { containerId = "UserTab" });
                                                                        de.Click.Before = "if(App.Permission_New!=null){var tab =App.UserTab.getComponent('Permission_New');App.UserTab.setActiveTab(tab);return false;}Ext.net.Mask.show({ msg : 'در حال بارگذاری...' });";
                                                                        de.Click.Success = "Ext.net.Mask.hide();";
                                                                    }),


                                                                    X.ImageButton()
                                                                    .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 264))
                                                                                        .ImageUrl("/content/icon/ImageButton/کاربران نرم افزار2.png")
                                                                                            .OverImageUrl("/content/icon/ImageButton/کاربران نرم افزار.png")
                                                                    .DirectEvents(
                                                                        de =>
                                                                        {
                                                                            de.Click.Url = "/NewVer/User_New/Index";
                                                                            de.Click.ExtraParams.Add(new { containerId = "UserTab" });
                                                                            de.Click.Before = "if(App.User!=null){var tab =App.UserTab.getComponent('User');App.UserTab.setActiveTab(tab);return false;}Ext.net.Mask.show({ msg : 'در حال بارگذاری...' });";
                                                                            de.Click.Success = "Ext.net.Mask.hide();";
                                                                        }),

                                                                    X.ImageButton()
                                                                        .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 321))
                                                                                        .ImageUrl("/content/icon/ImageButton/اطلاعات وب سرویس2.png")
                                                                                            .OverImageUrl("/content/icon/ImageButton/اطلاعات وب سرویس.png")
                                                                    .DirectEvents(
                                                                        de =>
                                                                        {
                                                                            de.Click.Url = "/NewVer/TransactionInf_New/Index";
                                                                            de.Click.ExtraParams.Add(new { containerId = "UserTab" });
                                                                            de.Click.Before = "if(App.TransactionInf!=null){var tab =App.UserTab.getComponent('TransactionInf');App.UserTab.setActiveTab(tab);return false;}Ext.net.Mask.show({ msg : 'در حال بارگذاری...' });";
                                                                            de.Click.Success = "Ext.net.Mask.hide();";
                                                                        })
                                                                            ,

                                                                        X.ImageButton()
                                                                            .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 390))
                                                                                            .ImageUrl("/content/icon/ImageButton/تایید ثبت نام2.png")
                                                                                                .OverImageUrl("/content/icon/ImageButton/تایید ثبت نام.png")
                                                                        .DirectEvents(
                                                                            de =>
                                                                            {
                                                                                de.Click.Url = "/NewVer/TaidSabtename_New/Index";
                                                                                de.Click.ExtraParams.Add(new { containerId = "UserTab" });
                                                                                de.Click.Before = "if(App.TaidSabtename!=null){var tab =App.UserTab.getComponent('TaidSabtename');App.UserTab.setActiveTab(tab);return false;}Ext.net.Mask.show({ msg : 'در حال بارگذاری...' });";
                                                                                de.Click.Success = "Ext.net.Mask.hide();";
                                                                            })


                                                                    )))
                                                                )
                                                            )
                                                        )
                                                    )
                                                    )
        //, Html.X().DesktopModule()
        //.ModuleID("create-Dashboard")
        //        .Shortcut(
        //            Html.X().DesktopShortcut()
        //                .Name("داشبورد")
        //                    .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 374))
        ////.Hidden(!servic.Permission(7, Session["Username"].ToString(), Session["Password"].ToString(), out Err))
        //                            .IconCls("shortcut-Dashboard")
        //                            .Handler("window.open('/Dashboard/index')")
        //                .SortIndex(9)
        //        )
        //        .Launcher(
        //            Html.X().MenuItem()
        //                    .Text("داشبورد")
        //                    .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 374))
        ////.Hidden(!servic.Permission(7, Session["Username"].ToString(), Session["Password"].ToString(), out Err))
        //                                    .IconCls("shortcut-Dashboard")
        //                                        .Handler("window.open('/Dashboard/index')")
        //        )
        ,
         Html.X().DesktopModule()
                .ModuleID("create-Dashboard")
            .Shortcut(
                Html.X().DesktopShortcut()
                        .Name("داشبورد")
                        .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 374))
        //.Hidden(!servic.Permission(7, Session["Username"].ToString(), Session["Password"].ToString(), out Err))
                                        .IconCls("shortcut-Dashboard")
                    .SortIndex(9)
            )
            .Launcher(
                Html.X().MenuItem()
                            .Text("داشبورد")
                        .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 374))
        //.Hidden(!servic.Permission(7, Session["Username"].ToString(), Session["Password"].ToString(), out Err))
                                                .IconCls("shortcut-Dashboard")
            )
            .Window(
                Html.X().Window()
                    .RTL(true)
                    .AutoScroll(true)
                                .Title("داشبورد")
                    .Icon(Ext.Net.Icon.User)
                    .BodyStyle("background-color:rergb(244, 247, 249;")
                    .CloseAction(Ext.Net.CloseAction.Destroy)
                    .Layout(Ext.Net.LayoutType.Fit)
                    .Maximized(true)
                    .Height(600)
                                .ID("DashboardWin")
                    .Items(
                    X.Panel().Split(true)
                    .Border(false)
                    .Layout(LayoutType.Fit)
                    .Items(
                        Html.X().TabPanel()
                            .Layout(LayoutType.Fit)
                            .Border(false)
                            .Items(
                                    X.Panel().Split(true)
                                                .Title("داشبورد")
                                    .Layout(LayoutType.Fit)
                                    .Border(false)
                                    .TabMenu(m => m.Add(X.Menu().Items(
                                                X.MenuItem().Text("پرونده").DirectClickUrl("/NewVer/Filtering_New/Index?containerId=DashboardTab").IconCls("Parvande")
                                                    .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 375)),
                                            X.MenuItem().Text("جستجو در واریزی ها").DirectClickUrl("/NewVer/Filtering_New/SearchCollection?containerId=DashboardTab").IconCls("SearchColl")
                                            .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 430)),
                                                X.MenuItem().Text("نمودار فیش های  ماه جاری").DirectClickUrl("/NewVer/Fishchart_New/Index?containerId=DashboardTab").IconCls("Fishchart")
                                                    .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 376)),
                                                X.MenuItem().Text("نمودار خودروهای ماه جاری").DirectClickUrl("/NewVer/Piechart_New/Index?containerId=DashboardTab").IconCls("Piechart")
                                                        .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 377)),
                                                    X.MenuItem().Text("داشبورد مدیریتی").DirectClickUrl("/NewVer/compare_New/Index?containerId=DashboardTab").IconCls("Piechart")
                                                        .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 377))

                                                    

                                )))
                                    .Items(
                                        Html.X().TabPanel()
                                            .Border(false)
                                            .Layout(LayoutType.Fit)
                                                        .ID("DashboardTab")
                                            .ManageHeight(true)
                                            .Items(
                                                    X.Panel().Split(true)
                                                    .Title("میزکار")
                                                    .Border(false)
                                                    .AutoScroll(true)
                                                    .Margins("30 0 0 0")
                                                    .Height(550)
                                                    .LayoutConfig(new Ext.Net.HBoxLayoutConfig { Align = Ext.Net.HBoxAlign.StretchMax, Pack = Ext.Net.BoxPack.Center })
                                                    .Items(
                                                        X.Container()
                                                            .Region(Ext.Net.Region.Center)
                                                            .Layout(Ext.Net.LayoutType.Table)
                                                            .Center()
                                                            .LayoutConfig(new Ext.Net.TableLayoutConfig { Columns = 7 })
                                                            .Defaults(new { Width = 110, Height = 110 })
                                                            .Items(
                                                                X.ImageButton()
                                                                .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 375))
                                                                    .ImageUrl("/content/icon/ImageButton/پرونده ها1.png")
                                                                        .OverImageUrl("/content/icon/ImageButton/پرونده ها.png")
                                                                .DirectEvents(
                                                                    de =>
                                                                    {
                                                                        de.Click.Url = "/NewVer/Filtering_New/Index";
                                                                        de.Click.ExtraParams.Add(new { containerId = "DashboardTab" });
                                                                        de.Click.Before = "if(App.Filtering_New!=null){var tab =App.DashboardTab.getComponent('Filtering_New');App.DashboardTab.setActiveTab(tab);return false;}Ext.net.Mask.show({ msg : 'در حال بارگذاری...' });";
                                                                        de.Click.Success = "Ext.net.Mask.hide();";
                                                                    })
                                                                    ,
                                                                        X.ImageButton()
                                                                        .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 430))
                                                                            .ImageUrl("/content/icon/ImageButton/جستجوی واریزی ها1.png")
                                                                            .OverImageUrl("/content/icon/ImageButton/جستجوی واریزی ها.png")
                                                                    .DirectEvents(
                                                                        de =>
                                                                        {
                                                                            de.Click.Url = "/NewVer/Filtering_New/SearchCollection";
                                                                            de.Click.ExtraParams.Add(new { containerId = "DashboardTab" });
                                                                            de.Click.Before = "if(App.Filtering_New!=null){var tab =App.DashboardTab.getComponent('Filtering_New');App.DashboardTab.setActiveTab(tab);return false;}Ext.net.Mask.show({ msg : 'در حال بارگذاری...' });";
                                                                            de.Click.Success = "Ext.net.Mask.hide();";
                                                                        })
                                                                        ,
                                                                        X.ImageButton()
                                                                .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 376))
                                                                        .ImageUrl("/content/icon/ImageButton/نمودار فیش های ماه جاری1.png")
                                                                            .OverImageUrl("/content/icon/ImageButton/نمودار فیش های ماه جاری.png")
                                                                .DirectEvents(
                                                                    de =>
                                                                    {
                                                                        de.Click.Url = "/NewVer/Fishchart_New/Index";
                                                                        de.Click.ExtraParams.Add(new { containerId = "DashboardTab" });
                                                                        de.Click.Before = "if(App.Fishchart_New!=null){var tab =App.DashboardTab.getComponent('Fishchart_New');App.DashboardTab.setActiveTab(tab);return false;}Ext.net.Mask.show({ msg : 'در حال بارگذاری...' });";
                                                                        de.Click.Success = "Ext.net.Mask.hide();";
                                                                    })
                                                                    ,
                                                                    X.ImageButton()
                                                            .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 377))
                                                                    .ImageUrl("/content/icon/ImageButton/نمودار خودروهای ماه جاری1.png")
                                                                        .OverImageUrl("/content/icon/ImageButton/نمودار خودروهای ماه جاری.png")
                                                            .DirectEvents(
                                                                de =>
                                                                {
                                                                    de.Click.Url = "/NewVer/Piechart_New/Index";
                                                                    de.Click.ExtraParams.Add(new { containerId = "DashboardTab" });
                                                                    de.Click.Before = "if(App.Piechart_New!=null){var tab =App.DashboardTab.getComponent('Piechart_New');App.DashboardTab.setActiveTab(tab);return false;}Ext.net.Mask.show({ msg : 'در حال بارگذاری...' });";
                                                                    de.Click.Success = "Ext.net.Mask.hide();";
                                                                })
                                                                    ,
                                                                        X.ImageButton()
                                                                .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 377))
                                                                            .ImageUrl("/content/icon/ImageButton/داشبورد مدیریتی2.png")
                                                                                .OverImageUrl("/content/icon/ImageButton/داشبورد مدیریتی.png")
                                                                .DirectEvents(
                                                                    de =>
                                                                    {
                                                                        de.Click.Url = "/NewVer/compare_New/Index";
                                                                        de.Click.ExtraParams.Add(new { containerId = "DashboardTab" });
                                                                        de.Click.Before = "if(App.Dashboardd1!=null){var tab =App.DashboardTab.getComponent('Dashboardd1');App.DashboardTab.setActiveTab(tab);return false;}Ext.net.Mask.show({ msg : 'در حال بارگذاری...' });";
                                                                        de.Click.Success = "Ext.net.Mask.hide();";
                                                                    })

                                                                )))
                                                            )
                                                        )
                                                    )
                                                )
                                                )

                     , Html.X().DesktopModule()
                                          .ModuleID("create-PageHtml")
                    .Shortcut(
                        Html.X().DesktopShortcut()
                                .Name("صفحات Html")
                                .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 393))
        //.Hidden(!servic.Permission(7, Session["Username"].ToString(), Session["Password"].ToString(), out Err))
                                            .IconCls("shortcut-PageHtml")
                                            .Handler("Ext.net.DirectMethod.request({url: '/NewVer/PageHtml/Index'})")
                            .SortIndex(9)
                    )
                    .Launcher(
                        Html.X().MenuItem()
                                .Text("صفحات Html")
                                .Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 393))
        //.Hidden(!servic.Permission(7, Session["Username"].ToString(), Session["Password"].ToString(), out Err))
                                                    .IconCls("shortcut-PageHtml")
                                                        .Handler("Ext.net.DirectMethod.request({url: '/NewVer/PageHtml/Index'})")
                    )

        //راهنمای کاربران مهمان
                                    , Html.X().DesktopModule()
                                        .ModuleID("create-UserHelp")

                        .Shortcut(
                            Html.X().DesktopShortcut()
                                   .IconCls("shortcut-UserGuestHelp")
                                                .Name("راهنمای کاربران").Hidden((Session["UserId"] != null) || Session["GeustId"] == null)
                                        .TextCls("x-long-label")
                                                 .Handler("Ext.net.DirectMethod.request({url: '/NewVer/First/HelpMehman'})")
                                .SortIndex(3)
                            ).Launcher(
                                Html.X().MenuItem()
                                             .Text("راهنمای کاربران").Hidden((Session["UserId"] != null) || Session["GeustId"] == null)
                                    .IconCls("shortcut-UserGuestHelp")
                                .Handler("Ext.net.DirectMethod.request({url: '/NewVer/First/HelpMehman'})")
                            )
        //راهنمای کاربران خوداظهاری
                                    , Html.X().DesktopModule()
                                                .ModuleID("create-UserGuestHelp")

                            .Shortcut(
                                Html.X().DesktopShortcut()
                                       .IconCls("shortcut-UserGuestHelp")
                                                        .Name("راهنمای کاربران").Hidden((Session["UserId"] != null) || Session["UserGeust"] == null)
                                            .TextCls("x-long-label")
                                                            .Handler("Ext.net.DirectMethod.request({url: '/NewVer/First/HelpGuest'})")
                                    .SortIndex(3)
                                ).Launcher(
                                    Html.X().MenuItem()
                                                 .Text("راهنمای کاربران").Hidden(!(Session["UserId"] == null) || Session["UserGeust"] == null)
                                        .IconCls("shortcut-UserGuestHelp")
                                        .Handler("Ext.net.DirectMethod.request({url: '/NewVer/First/HelpGuest'})")
                                )
                                , Html.X().DesktopModule()
                                            .ModuleID("create-ParvandeInf")

                            .Shortcut(
                                Html.X().DesktopShortcut()
                                       .IconCls("shortcut-ParvandeInf")
                                            .Name("اطلاعات پرونده").Hidden((Session["UserId"] != null) || Session["GeustId"] == null)
                                            .TextCls("x-long-label")
        //  .Handler("Ext.net.DirectMethod.request({url: '/UserOnline_Hokm/Index'})")
                                    .SortIndex(3)
                                ).Launcher(
                                    Html.X().MenuItem()
                                        .Text("اطلاعات پرونده").Hidden((Session["UserId"] != null) || Session["GeustId"] == null)
                                    .IconCls("shortcut-ParvandeInf")
        //.Handler("Ext.net.DirectMethod.request({url: '/UserOnline_Hokm/Index'})")
                                )
                                     .Window(
                        Html.X().Window().RTL(true)

                                .Listeners(l => l.AfterRender.Handler = "Ext.net.DirectMethod.request({url: '/NewVer/SearchFile_New/Index?containerId=GuestTab'})")
                            .ID("Guest")
                            .AutoScroll(true)
                                .Title("عوارض")

                            .Icon(Ext.Net.Icon.Report)
                                .BodyStyle("background-color:rergb(244, 247, 249;")
                            .CloseAction(Ext.Net.CloseAction.Destroy)
                                .Layout(Ext.Net.LayoutType.Fit)
                            .Maximized(true)
                            .Height(300)

        //   .Height(700)
                                            .Items(X.TabPanel().ID("GuestTab").Layout(LayoutType.Fit).Border(false))
                        )
                                        , Html.X().DesktopModule()
                                                .ModuleID("create-KhodEzhari")

                                .Shortcut(
                                    Html.X().DesktopShortcut()
                                                .IconCls("shortcut-KhodEzhari")
                                                                .Name("خوداظهاری").Hidden((Session["UserId"] != null) || Session["UserGeust"] == null)
                                                .TextCls("x-long-label")
                                                    .Handler("Ext.net.Mask.show({ msg: 'در حال بارگذاری...' });Ext.net.DirectMethod.request({url: '/NewVer/KhodEzhari/Index?MalekId=0',success:function(){Ext.net.Mask.hide();}})")
                                        .SortIndex(3)
                                    ).Launcher(
                                        Html.X().MenuItem()
                                                    .Text("خوداظهاری").Hidden((Session["UserId"] != null) || Session["UserGeust"] == null)
                                            .IconCls("shortcut-KhodEzhari")
                                            .Handler("Ext.net.Mask.show({ msg: 'در حال بارگذاری...' });Ext.net.DirectMethod.request({url: '/NewVer/KhodEzhari/Index?MalekId=0',success:function(){Ext.net.Mask.hide();}})")
                                    )

                                , Html.X().DesktopModule()
                                                    .ModuleID("create-FirstCalc")

                                .Shortcut(
                                    Html.X().DesktopShortcut()
                                           .IconCls("shortcut-FirstCalc")
                                                        .Name("محاسبه سرانگشتی").Hidden((Session["UserId"] != null) || Session["GeustId"] == null)
                                                .TextCls("x-long-label")
                                                                    .Handler("Ext.net.DirectMethod.request({url: '/NewVer/FirstCalc_New/Index'})")
                                        .SortIndex(3)
                                    ).Launcher(
                                        Html.X().MenuItem()
                                            .Text("محاسبه سرانگشتی").Hidden((Session["UserId"] != null) || Session["GeustId"] == null)
                                            .IconCls("shortcut-FirstCalc")
                                        .Handler("Ext.net.DirectMethod.request({url: '/NewVer/FirstCalc_New/Index'})")
                                    )
                                                   , Html.X().DesktopModule()

                                        .Shortcut(
                                            Html.X().DesktopShortcut()
                                                            .IconCls("shortcut-Archive")
                                                                        .Name("آرشیو پرونده").Hidden((Session["UserId"] != null) || Session["UserGeust"] == null)
                                                        .TextCls("x-long-label")
                                                                    .Handler("Ext.net.Mask.show({ msg: 'در حال بارگذاری...' });Ext.net.DirectMethod.request({url: '/NewVer/KhodEzhari/Archive?MalekId=0',success:function(){Ext.net.Mask.hide();}})")
                                                .SortIndex(3)
                                            ).Launcher(
                                                Html.X().MenuItem()
                                                            .Text("آرشیو پرونده").Hidden((Session["UserId"] != null) || Session["UserGeust"] == null)
                                                        .IconCls("shortcut-Archive")
                                                            .Handler("Ext.net.Mask.show({ msg: 'در حال بارگذاری...' });Ext.net.DirectMethod.request({url: '/NewVer/KhodEzhari/Archive?MalekId=0',success:function(){Ext.net.Mask.hide();}})")
                                                ).ModuleID("create-Archive")



)
.DesktopConfig(
                    Html.X().DesktopConfig()
                    .Wallpaper("~/Content/back3.jpg").WallpaperStretch(true)
                                .ShortcutDragSelector(false)
                        .ShortcutDefaults(defaults =>
                        {
                            defaults.IconCls = "x-default-shortcut";
                        })
        //.ContextMenu(
        //    Html.X().Menu()
        //        .Items(
        //            Html.X().MenuItem().Text("Change Settings"),
        //            Html.X().MenuSeparator(),
        //                Html.X().MenuItem().Text("Title").Icon(Ext.Net.Icon.ApplicationTileVertical),
        //                Html.X().MenuItem().Text("Cascade").Icon(Ext.Net.Icon.ApplicationCascade)
        //        )
        //)
                        @*.Content(@<text>
                            @(
                             Html.X().Image()
                                                                    .ImageUrl("~/Content/blank.png")
                                                            .StyleSpec("position:absolute;top: 40%;left: 40%;width: 227px;margin-top: -39px; margin-left: -39px;")
                                                    )
                            </text>)*@
    )
                                .StartMenu(
                                    Html.X().DesktopStartMenu().ID("StartMenu1")
                                        .Title("رسا سیستم البرز")
                                        .IconCls("RasaIco")
                                        .Height(300)
                                        .ToolConfig(
                                            Html.X().Toolbar()
                                                .Width(100)
                                                .Items(
        //                                        Html.X().Button()
        //                                                    .Text("تنظیمات")
        ////.Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 90))
        //                                                    .Icon(Ext.Net.Icon.Cog)
        //                                                    .DirectEvents(de =>
        //                                                    {
        //                                                        de.Click.Action = "Setting";

            //                                                    }),
        //Html.X().Button()
        //    .Text("Settings")
        //                                .Icon(Ext.Net.Icon.Cog),
        //                                        Html.X().Button()
        //                                                    .Text("مدیریت کاربران")
        ////.Hidden(!Permossions.haveAccess(Convert.ToInt32(Session["UserId"]), 39))
        //                                                                            .Icon(Ext.Net.Icon.User)
        //                                                .DirectEvents(
        //                                                    de =>
        //                                                    {
        //                                                        de.Click.Url = "/User/index";
        //                                                        de.Click.ExtraParams.Add(new { containerId = "UserTab" });
        //                                                        de.Click.Before = "if(App.User!=null){var tab =App.UserTab.getComponent('User');App.UserTab.setActiveTab(tab);return false;}Ext.net.Mask.show({ msg : 'در حال بارگذاری...' });";
        //                                                        de.Click.Success = "Ext.net.Mask.hide();";
        //                                                    })
        //                                                ,
                                                            Html.X().Button()
                                                                .Text("تغییر رمز عبور").Listeners(l => l.Render.Handler = "ShowHidebtnPass()").ItemID("btnChangePassword")
        // .Hidden(Session["UserId"]==null)
                                                                  .Icon(Ext.Net.Icon.Key)
                                                                      .Listeners(l => l.Click.Handler = "ChangePassword()")
        // .Handler("Ext.net.DirectMethod.request({url: '/NewVer/ChangePassword_New/Index?UserType='})")
                                                        , Html.X().Button()
                                                        .Text("خروج")
                                                                                    .Icon(Ext.Net.Icon.DoorOut)
                                                        .DirectEvents(de =>
                                                        {
                                                            de.Click.Action = "Logout";
                                                            de.Click.EventMask.ShowMask = true;
                                                            de.Click.EventMask.Msg = "خدانگهدار...";
                                                            de.Click.EventMask.MinDelay = 1000;
                                                        })

                                                )
                                        )
                                )
                                .TaskBar(
                                    Html.X().DesktopTaskBar()
                                        .TrayWidth(450).HideQuickStart(false)
                                         .QuickStart(
                            Html.X().Toolbar()
                                .Width(450)
                                .Items(
                                        Html.X().Label()
                                .Cls("lblLocation")
                                    .ID("lblLocation")
                                    .Text(Location)
                                         , X.Container().ID("Mogheiat").Content(@<table style="text-align:left;direction:ltr;font-size:10px;border:10px;"><tr><td style="color:#98c8ff;">|</td></tr></table>)
                            , Html.X().Button().ID("btnChangeMogheiat").Listeners(l => l.Render.Handler = "setShowHidebtn()").Text("تغییر موقعیت").Listeners(l => l.Click.Handler = "changeMogheiat()")

                            )
                    )

        //.QuickStart(
        //    Html.X().Toolbar()
        //        .Items(
        //            Html.X().Button()
        //             .Icon(Ext.Net.Icon.ApplicationTileVertical)
        //                .ToolTip("Tile windows"),

                                    //            Html.X().Button()
        //          .Icon(Ext.Net.Icon.ApplicationCascade)
        //                .ToolTip("Cascade windows")
        //        )
        //)
                                         .Tray(
                                            Html.X().Toolbar().ID("Toolbar1").Width(300).PaddingSpec("0 50px 0 0")
                                            .Items(
        //Html.X().Label().ID("lblLocation")
        //.Text(Location),
        //X.Container().Content(@<table style="text-align:left;direction:ltr;font-size:10px;border:10px;"><tr><td style="color:#98c8ff;">|</tr></table>),
                                                X.Container().ItemID("Design").Content(@<table style="text-align:left;direction:ltr;font-size:10px;border:20px;"><tr><td style="color:#98c8ff;">|</td><td>CopyRight © 2013-Design By</td><td><a href="http://www.rasa-system.com/" style="text-decoration:none;"> RasaCo</a></td></tr></table>)
                                                , Html.X().ToolbarFill()
                                            )
                                    )
                            )
)
@X.TaskManager().ID("TaskManager1").Tasks(X.Task().TaskID("Task1")
    .Interval(100)
    .AutoRun(false)
    .DirectEvents(de => de.Update.Action = "RefreshProgress")
)


@(X.Viewport().ID("Section")
                .Margin(50)
                      .Frame(true)//.Layout(LayoutType.Border)
                      .Layout(Ext.Net.LayoutType.Absolute)
            .Items(
                            X.Panel().X(0).Y(0)/*.Split(true)*/
                    .Frame(true)
                .Width(220).RTL(false)
                    .Layout(Ext.Net.LayoutType.Accordion)
                    .LayoutConfig(new Ext.Net.AccordionLayoutConfig { Multi = true, OriginalHeader = true }).Border(true)
            .Items(
                                X.Panel().ID("pnlUserAdmin")/*.Split(true).Region(Region.North).Border(true)
                                .Collapsible(true).PaddingSpec("0 0 20px 0").BodyPadding(6)*/
                                .RTL(true)
                            .Title("اطلاعات کاربر")//.Listeners(l => l.Render.Handler = "splitter")
                        .Icon(Ext.Net.Icon.UserTick)
                        .X(0)
                       .Items(
                       X.Container().Border(false).Content(
                    @<div style="margin:10px; height:300px;">
                        <center>
                            <div style="font-weight:600"> @Name خوش آمدید.</div>
                            <div style="font-weight:600"> @Code</div>
                            @if(Convert.ToInt32(Session["CountryType"]) ==8){
                            <div id="pos">
                                <div style="font-weight:600" id="noaddon">افزونه نصب نیست</div>
                                <div style="font-weight:600;display: none;" id="yesaddon">وضعیت افزونه: آماده به کار</div>
                                <div style="font-weight:600;" id="nopos">وضعیت کارتخوان: درحال بررسی...</div>
                            </div>
                            }
                            <br />

                            <br /><br />

                            <img alt="" src="@Url.Action("ShowPic", "First")" width="90px" height="120px" style=" border-color: #2E4796; border-radius: 6px 6px 6px 6px; border-style: solid;border-width:2px;" />
                            <br />
                            <br />
                            تاریخ آخرین ورود: @_Date
                            <br />
                            <br />
                            زمان آخرین ورود: @Time
                            <br />
                            <br />
                            IP آخرین ورود: @Ip

                        </center>
                    </div>)
                       ),
                         X.Panel()//.Collapsible(true).Region(Region.North).Split(true)/
                        .ID("pnlUserOnline")
                        .Title("")
                        .Listeners(a=>a.AfterRender.Handler="load();")
                        .Icon(Ext.Net.Icon.Comments)
                        .RTL(true)
                        .Items(
                       X.Container().Content(
                    @<div style="margin:10px;height:190px;">
                        <center>
                            <div>
                                <span id="lblUserOnline">موجودی حساب: @Mojodi</span>

                                <p>@X.Button().Text("شارژ پنل").ItemID("btnSharj").Listeners(l => l.Click.Handler = "sharj()")</p>
                            </div>
                            <div id="container">
                                <div class="rotatingHands">
                                    <img alt="" id="hours" src="@Url.Content("~/Content/hours.png")" />
                                </div>
                                <div class="rotatingHands">
                                    <img alt="" id="minutes" src="@Url.Content("~/Content/minutes.png")" />
                                </div>
                                <div class="rotatingHands">
                                    <img alt="" id="seconds" src="@Url.Content("~/Content/seconds.png")" />
                                </div>
                                <div class="glass">
                                    <img alt="" src="@Url.Content("~/Content/glass.png")" />
                                </div>
                                <img alt="" src="@Url.Content("~/Content/clock.png")" />
                            </div>
                        </center>
                    </div>)

                       ),
                          X.Panel()//.Collapsible(true).Region(Region.North).Split(true)
                        .ID("pnlGeustUser")
                        .Title("")
                        .Listeners(a=>a.AfterRender.Handler="load();")
                        .Icon(Ext.Net.Icon.Comments)
                        .RTL(true)
                        .Items(
                       X.Container().Content(
                    @<div id="clock" style="margin:10px;height:240px;">
                        <center>
                            <div>
                                <div style="font-weight:600"> @Name خوش آمدید.</div>
                            </div>
                            <div id="container">
                                <div class="rotatingHands">
                                    <img alt="" id="hoursG" src="@Url.Content("~/Content/hours.png")" />
                                </div>
                                <div class="rotatingHands">
                                    <img alt="" id="minutesG" src="@Url.Content("~/Content/minutes.png")" />
                                </div>
                                <div class="rotatingHands">
                                    <img alt="" id="secondsG" src="@Url.Content("~/Content/seconds.png")" />
                                </div>
                                <div class="glass">
                                    <img alt="" src="@Url.Content("~/Content/glass.png")" />
                                </div>
                                <img alt="" src="@Url.Content("~/Content/clock.png")" />
                            </div>
                            <div style="margin-top:-60px;">
                                تاریخ ورود: @_Date
                                <br />
                                <br />
                                زمان ورود: @Time
                                <br />
                                <br />
                                IP  ورود: @Ip
                            </div>

                        </center>
                    </div>)

                       )
                        )
                        )

            //.LayoutConfig(new Ext.Net.HBoxLayoutConfig { Pack=Ext.Net.BoxPack.Center,Align=Ext.Net.HBoxAlign.StretchMax})
        //.Floating(true)
                .Shadow(false)
                    .Listeners(l =>
                    {
                        //l.AfterRender.Handler = "App.Section.el.alignTo(document.body, 'tr-tr', [0, 0], true);";
                        //l.Far.Handler = "this.component.el.alignTo(Ext.net.Desktop.desktop.body, 'tl-tl', [0, 0], true);";
                    })


)
<script src="@Url.Content("~/Content/jQueryRotate.2.2.js")" type="text/javascript"></script>
<link href="~/Content/style.css" rel="stylesheet" />
<script>
    ImageSetting = '@ViewBag.ImageSetting';
    /* var splitter = alert("");
         Ext.create('Ext.resizer.Splitter', {

         autoShow: true
     });*/


    function sharj() {
        window.location.href = 'http://trn.ecartax.ir/_account/LoginFromPrg?username=' + '@trnUser' + '&pass=' + '@trnPass';
    }


    function setShowHidebtn() {

        if ('@ViewBag.UserType' == "3" || '@ViewBag.UserType' == "2") {
            App.btnChangeMogheiat.hide();

            var Mogheiat = App.Mogheiat;
            Mogheiat.hide();
            /*Toolbar1.width = 550;*/
        }
        else {
            App.btnChangeMogheiat.show();
        }
    }

    function GetSetting() {
        if (ImageSetting == 1||ImageSetting == 2) {
            var StartMenu1 = App.StartMenu1;
            StartMenu1.setTitle("");
            var Design = App.Toolbar1.queryById("Design");
            Design.hide();
            App.Toolbar1.setWidth(100);
        }        
        /*Ext.net.DirectMethod.request({
            url: '/NewVer/Account_New/GetSetting',
            params: {

            },
            success: function (data) {
                if (data == 1) {
                    ImageSetting = data;
                    var StartMenu1 = App.StartMenu1;
                    StartMenu1.setTitle("");
                    var Design = App.Toolbar1.queryById("Design");
                    Design.hide();
                    App.Toolbar1.setWidth(100);


                }


            }
        });*/
    }

    function checkPassTime() {
        if (ImageSetting == 4) {
            var date1 = new Date();
            var date2 = new Date('@LastDate');
            var timeDiff = Math.abs(date2.getTime() - date1.getTime());
            var diffDays = Math.ceil(timeDiff / (1000 * 3600 * 24));
            if (diffDays > 60) {
                Ext.net.DirectMethod.request({
                    url: "/NewVer/ChangePassword_New/changePass",
                    params: {
                        UserType: '@ViewBag.UserType'
                    },
                    success: function () {
                        Ext.net.Mask.hide();
                    }
                });
            }
        }
    }

    function ShowHidebtnPass() {
        if ('@ViewBag.UserType' == "2") {
            App.StartMenu1.queryById("btnChangePassword").hide();

        }
        else {

            App.StartMenu1.queryById("btnChangePassword").show();
        }
    }

    function ChangePassword() {
        Ext.net.Mask.show({ msg: 'در حال بارگذاری...' });
        Ext.net.DirectMethod.request({
            url: "/NewVer/ChangePassword_New/Index",
            params: {
                UserType: '@ViewBag.UserType'
            },
            success: function () {
                Ext.net.Mask.hide();
            }
        });
    }
    @*function setnotVerifyNum() {
        var a = document.getElementsByClassName("MonitoringSavabegh");
        if ('@ViewBag.NotVerifyCarExp' == 0) {
            a[0].classList.remove("badge");
        }
        else {
            var count = "'" + '@ViewBag.NotVerifyCarExp' + "'";
            Ext.util.CSS.updateRule('.badge::after', 'content', count);
            a[0].classList.add("badge");
        }
    }*@

    var datetime = '@ViewBag.time';
    $('#clock').ready(function () {
        var angleSec = 0;
        var angleMin = 0;
        var angleHour = 0;
        var min, hor;
        var treeRefresh;
        var WatchRefresh = 0;
        
        angleHour = datetime.substring(0, 2);
        angleMin = datetime.substring(3, 5);
        angleSec = datetime.substring(6, 8);
        angleSec = angleSec * 6;
        angleMin = angleMin * 6;
        angleHour = (angleHour * 5 + (angleMin / 6) / 12) * 6;
        Ext.net.DirectMethod.request({
            url: '/newver/TicketKartabl/GetCountPM',
            params: {
            },
            success: function (data) {
                var ElUserTicket1 = document.getElementsByClassName("shortcut_SendTicket");
                var ElAdminTicket1 = document.getElementsByClassName("shortcut-Ticketing");
                if (data.CountUser == 0) {
                    if (ElUserTicket1[0]) {
                        ElUserTicket1[0].classList.remove("badge");
                    }
                }
                else {
                    var countt = "'" + data.CountUser + "'";
                    Ext.util.CSS.updateRule('.badge::after', 'content', countt);
                    if (ElUserTicket1[0]) {
                        ElUserTicket1[0].classList.add("badge");
                    }
                }
                if (data.CountAdmin == 0) {
                    if (ElAdminTicket1[0]) {
                        ElAdminTicket1[0].classList.remove("badgeA");
                    }
                }
                else {
                    var countt1 = "'" + data.CountAdmin + "'";
                    Ext.util.CSS.updateRule('.badgeA::after', 'content', countt1);
                    if (ElAdminTicket1[0]) {
                        ElAdminTicket1[0].classList.add("badgeA");
                    }
                }
            }
        });

        if ('@ViewBag.UserType' == "2" || '@ViewBag.UserType' == "3") {
            $("#secondsG").rotate(angleSec);
            $("#minutesG").rotate(angleMin);
            $("#hoursG").rotate(angleHour);

            setInterval(function () {
                angleSec = ((angleSec / 6 + 1) * 6);
                $("#secondsG").rotate(angleSec);
                if (angleSec >= 360) {

                    angleMin = (angleMin / 6 + 1) * 6;
                    $("#minutesG").rotate(angleMin);
                    angleSec = 0;
                }
                if (angleMin >= 360) {
                    angleMin = 0;
                }

                treeRefresh++;
                if (treeRefresh == 30) {
                    @*var URL = '@Url.Content("Home/ShowPic")';*@
                    /*var g = URL;
                    alert();
                    $('#Image').attr('src', g);
                    $('#lblUserOnline').html('تعداد کاربران آنلاین: UserLoginCount');*/
                    treeRefresh = 0;
                }

                WatchRefresh++;
                if (WatchRefresh == 120) {
                    Ext.net.DirectMethod.request({
                        url: "/NewVer/First/GetDate",
                        success: function (data) {

                            angleHour = data.substring(0, 2);
                            angleMin = data.substring(3, 5);
                            angleSec = data.substring(6, 8);
                            angleSec = angleSec * 6;
                            angleMin = angleMin * 6;
                            angleHour = (angleHour * 5 + (angleMin / 6) / 12) * 6;
                            if ('@ViewBag.UserType' == "2" || '@ViewBag.UserType' == "3") {
                                $("#secondsG").rotate(angleSec);
                                $("#minutesG").rotate(angleMin);
                                $("#hoursG").rotate(angleHour);
                            }
                            else {
                                $("#seconds").rotate(angleSec);
                                $("#minutes").rotate(angleMin);
                                $("#hours").rotate(angleHour);
                            }
                            WatchRefresh = 0;
                        }
                    });
                }
            }, 1000);
        }
        else {
            $("#seconds").rotate(angleSec);
            $("#minutes").rotate(angleMin);
            $("#hours").rotate(angleHour);

            setInterval(function () {
                angleSec = ((angleSec / 6 + 1) * 6);
                $("#seconds").rotate(angleSec);
                if (angleSec >= 360) {

                    angleMin = (angleMin / 6 + 1) * 6;
                    $("#minutes").rotate(angleMin);
                    angleSec = 0;
                }
                if (angleMin >= 360) {
                    angleMin = 0;
                }

                treeRefresh++;
                if (treeRefresh == 30) {
                    @*var URL = '@Url.Content("Home/ShowPic")';*@
                    /*var g = URL;
                    alert();
                    $('#Image').attr('src', g);
                    $('#lblUserOnline').html('تعداد کاربران آنلاین: UserLoginCount');*/
                    treeRefresh = 0;
                }

                /*WatchRefresh++;
                if (WatchRefresh == 120) {
                    Ext.net.DirectMethod.request({
                        url: "/NewVer/First/GetDate",
                        success: function (data) {
                            angleHour = data.datetime.substring(0, 2);
                            angleMin = data.datetime.substring(3, 5);
                            angleSec = data.datetime.substring(6, 8);
                            angleSec = angleSec * 6;
                            angleMin = angleMin * 6;
                            angleHour = (angleHour * 5 + (angleMin / 6) / 12) * 6;
                            $("#seconds").rotate(angleSec);
                            $("#minutes").rotate(angleMin);
                            $("#hours").rotate(angleHour);
                            WatchRefresh = 0;
                        }
                    });
                }*/
            }, 1000);
        }


        /*if ('ViewBag.FirstLogin' == 'True') {
            Ext.net.Mask.show({ msg: 'در حال بارگذاری...' });
            Ext.net.DirectMethod.request({
                url: "/ChangePassword/index",
                params: {

                },
                success: function () {
                    Ext.net.Mask.hide();
                }
            });
        }*/

    });
    function changeMogheiat() {
        Ext.net.Mask.show({ msg: 'در حال بارگذاری...' });
        Ext.net.DirectMethod.request({
            url: "/NewVer/First/changeMogheiat",
            success: function () {
                Ext.net.Mask.hide();
            }
        });
    }
    function load() {
        if ('@ViewBag.UserType' == "2" || '@ViewBag.UserType' == "3") {
            App.pnlGeustUser.show();
            App.pnlUserAdmin.hide();
            App.pnlUserOnline.hide();
            if ('@ViewBag.UserType' == "3")
            Ext.Msg.alert('اطلاعیه', 'قابل توجه کاربران محترم بخش خوداظهاری: در صورتی که مایل به دریافت مفاصا حساب می باشید، میبایست جهت تایید مدارک حداقل یکبار به شهرداری مربوطه مراجعه و پس از تایید مدارک اقدام به دریافت مفاصا حساب نمایید.', Ext.emptyFn);
        }
        else {
            App.pnlUserAdmin.show();
            App.pnlUserOnline.show();
            App.pnlGeustUser.hide();
        }
        /*setTimeout("setnotVerifyNum()", 1000);*/
    }

    function CheckEtelaie() {
        if ('@ViewBag.EtelaieText' != "") {
            h = '@ViewBag.EtelaieText';
            IDa = '@ViewBag.EtelaieID';

            var k = h.split(';');
            var ID = IDa.split(';');
            var txt = "";
            for (var i = 0; i < k.length - 1; i++) {
                var fieldset = Ext.create('Ext.form.FieldSet', {
                    border: false,
                    /*  width: 380,
                      items:[{
                          xtype: "container.Container",
                          height:100,
                          content: '<div>تستتتتتتتتتتت</div>'
                      }]*/
                });
                /*var changingImage = Ext.create('Ext.Img', {
                    src: "Url.Content("/Content/icon/loading-image.gif")",
                    style:"width: 15px;",
                    renderTo: Ext.getBody()
                });*/
                var LblEtela = Ext.create('Ext.form.Label', {
                    text: k[i],
                    xtype: 'iconlabel',
                    iconCls: 'Enter',
                    padding: "0 5px 0 10px"
                });
                /*start*/

                var BtnEtela = Ext.define('LinkButton', {
                    extend: 'Ext.Component',
                    xtype: 'linkbutton',
                    autoEl: 'a',
                    renderTpl: '<a class="linkButton" href=\"javascript:;\" id="{id}-btnEl">{text}</a>',
                    config: {
                        text: 'ادامه...',
                        id: ID[i],
                        handler: function () {
                            Ext.net.DirectMethod.request({
                                url: '/NewVer/First/GotoNExtEtelaiie',
                                params: {
                                    ID: this.id
                                },
                                success: function (data) { }
                            });
                        }
                    },
                    initComponent: function () {
                        var me = this;
                        me.callParent(arguments);

                        this.renderData = {
                            text: this.getText()
                        };
                    },
                    onRender: function (ct, position) {
                        var me = this,
                            btn;

                        me.addChildEls('btnEl');

                        me.callParent(arguments);

                        btn = me.btnEl;

                        me.mon(btn, 'click', me.onClick, me);
                    },
                    onClick: function (e) {
                        var me = this;
                        if (me.preventDefault || (me.disabled && me.getHref()) && e) {
                            e.preventDefault();
                        }
                        if (e.button !== 0) {
                            return;
                        }
                        if (!me.disabled) {
                            me.fireHandler(e);
                        }
                    },
                    fireHandler: function (e) {
                        var me = this,
                            handler = me.handler;

                        me.fireEvent('click', me, e);
                        if (handler) {
                            handler.call(me.scope || me, me, e);
                        }
                    }
                });

                App.pnletela.add(fieldset);
                /*fieldset.add(changingImage);*/
                fieldset.add(LblEtela);
                fieldset.add(BtnEtela);
                /* var BtnEtela=  Ext.define('LinkButton', {
                      extend: 'Ext.Component',
                      renderTpl: '<a href="{url}">{text}</a>',
                      renderSelectors: {
                          linkEl: 'a'
                      },

                      initComponent: function () {
                          this.callParent();
                          this.renderData = {
                              url: this.url,
                              text: this.text
                          }
                      }
                  });

                 var BtnEtela2 = Ext.onReady(function () {
                      Ext.create('LinkButton', {
                          renderTo: Ext.getBody(),

                          text: 'Click on me!',
                          url: 'http://www.google.com/',

                          listeners: {
                              click: {
                                  element: 'linkEl',
                                  fn: function (event) {
                                      console.log('click');
                                      console.log(arguments);
                                  }
                              },
                              mouseover: {
                                  element: 'linkEl',
                                  fn: function (event) {
                                      console.log('mouseover');
                                      console.log(arguments);
                                  }
                              }
                          }
                      });
                  });*/

                /*end*/

                /*var BtnEtela = Ext.create('Ext.Button', {
                    text: "ادامه مطلب",
                    id: ID[i],
                    /* itemId: result.NameKhasiyat_En[i],*/
                /*allowBlank: false,*/
                /*allowDecimals: false,
                allowExponential: false,
                itemId: ItemPropertiesId[i],
                emptyText: "عدد صحیح",
                blankText: "این فیلد باید مقداری داشته باشد.",*/
                /*autofocus: true,
                enableKeyEvents: true,
                labelAlign: 'left',
                labelWidth: 50,
                labelStyle: 'font-size: 16px;',*/
                /*width: 160,*/
                /*  listeners: {
                      click: function (field) {
                          Ext.net.DirectMethod.request({
                              url: '/NewVer/First/GotoNExtEtelaiie',
                              params: {
                                  ID: this.id
                              },
                              success: function (data) { }
                          });
                      }
                  }
              });*/

            }
            @*for(var i=0;i<k.length-1;i++)
            {
                var src = '@Url.Action("GotoNExtEtelaiie", "First", new { id = "ID" })'.replace("ID", String(ID[i]));
                var str = "<a href='@Url.Content("/NewVer/First/GotoNExtEtelaiie?ID=H")'>ادامه</a></br>";
                txt = txt + k[i] + str.replace('H', String(ID[i]));
            }
            Ext.get('Info').update("<div><p style='text-align:justify;margin:5px'>" + txt + "</p></div>");*@
        }
        else {
            App.InfoWin.close();
        }
    }
</script>